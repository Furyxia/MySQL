# MySQL函数

## 1.MySQL函数简介

MySQL函数从功能方面主要分为以下几类：
1. 数学函数；
2. 字符串函数；
3. 日期和时间函数；
4. 条件判断函数；
5. 系统信息函数；
6. 加密函数；

---

## 2.数学函数

数学函数主要用来处理数值数据，主要的数据函数有：
* 绝对值函数；
* 三角函数（包括正弦函数，余弦函数，正切函数，余切函数等）；
* 对数函数；
* 随机函数
* ……

### 2.1 绝对值函数ABS(x)和返回圆周率的函数PI()

ABS(x)返回x的绝对值

**示例1：** 求2，-3.3和-33的绝对值

```
mysql> SELECT ABS(2), ABS(-3.3), ABS(-33);
+--------+-----------+----------+
| ABS(2) | ABS(-3.3) | ABS(-33) |
+--------+-----------+----------+
|      2 |       3.3 |       33 |
+--------+-----------+----------+
```

PI()返回圆周率π的值。默认的显示小数位数使6位。

**示例2：** 返回圆周率值

```
mysql> SELECT PI();
+----------+
| PI()     |
+----------+
| 3.141593 |
+----------+
```

<br>

### 2.2 平方根函数SQRT(x)和求余函数MOD(x,y)

SQRT(x)返回非负数x的二次方根。

**示例1：** 求9，40和-49的二次平方根

```
mysql> SELECT SQRT(9), SQRT(40), SQRT(-49);
+---------+-------------------+-----------+
| SQRT(9) | SQRT(40)          | SQRT(-49) |
+---------+-------------------+-----------+
|       3 | 6.324555320336759 |      NULL |
+---------+-------------------+-----------+
```

由于复数没有没有平方根，因此-49返回的结果位NULL。

MOD(x,y)返回x被y除后的余数，MOD()对于带有小数部分的数值也起作用，它返回除法运算后的精确余数。

**示例2：** 求MOD(31,8)，MOD(234,10)，MOD(45.5,6)

```
mysql> SELECT MOD(31,8), MOD(234,10), MOD(45.5,6);
+-----------+-------------+-------------+
| MOD(31,8) | MOD(234,10) | MOD(45.5,6) |
+-----------+-------------+-------------+
|         7 |           4 |         3.5 |
+-----------+-------------+-------------+
```

<br>

### 2.3 获取整数的函数CEIL(x)，CEILING(x)和FLOOR(x)

CEIL(x)和CEILING(x)意义相同，返回不小于x的最小整数值，返回值转化位一个BIGINT。

**示例1：** 使用CEILING函数返回最小整数

```
mysql> SELECT CEIL(-3.35), CEILING(3.35);
+-------------+---------------+
| CEIL(-3.35) | CEILING(3.35) |
+-------------+---------------+
|          -3 |             4 |
+-------------+---------------+
```

FLOOR(x)返回不大于x的最大整数值，返回值转化为一个BIGINT。

**示例2：** 使用FLOOR函数返回最大整数

```
mysql> SELECT FLOOR(-3.35), FLOOR(3.35);
+--------------+-------------+
| FLOOR(-3.35) | FLOOR(3.35) |
+--------------+-------------+
|           -4 |           3 |
+--------------+-------------+
```

-3.35为负数，不大于-3.35的最大整数为-4，因此返回值为-4；不大于3.35的最大整数位3，因此返回值为3。

<br>

### 2.4 获取随机数的函数RAND()和RAND(x)

RAND(x)返回一个随机浮点数值v，范围在0到1之间（即0≦v≦1.0）。若已指定一个整数参数x，则它被作为种子值，用来产生重复序列。

**示例1：** 使用RAND()函数产生随机数

```
mysql> SELECT RAND(), RAND(), RAND();
+--------------------+---------------------+--------------------+
| RAND()             | RAND()              | RAND()             |
+--------------------+---------------------+--------------------+
| 0.9675690484862486 | 0.14164580883611536 | 0.8055219294554758 |
+--------------------+---------------------+--------------------+
```

**示例2：** 使用RAND(x)函数产生随机数

```
mysql> SELECT RAND(10), RAND(10), RAND(11);
+--------------------+--------------------+-------------------+
| RAND(10)           | RAND(10)           | RAND(11)          |
+--------------------+--------------------+-------------------+
| 0.6570515219653505 | 0.6570515219653505 | 0.907234631392392 |
+--------------------+--------------------+-------------------+
```

可以看到，当RAND(x)的参数相同时，将产生相同的随机数，不同的x产生的随机数数值相同。

<br>

### 3.5 函数ROUND(x)，ROUND(x,y)和TRUNCATE(x,y)

ROUND(x)返回最接近与参数x的整数，对x值进行四舍五入

**示例1：** 使用ROUND(x)函数对操作数进行四舍五入操作

```
mysql> SELECT ROUND(-1.14), ROUND(-1.67), ROUND(1.14), ROUND(1.66);
+--------------+--------------+-------------+-------------+
| ROUND(-1.14) | ROUND(-1.67) | ROUND(1.14) | ROUND(1.66) |
+--------------+--------------+-------------+-------------+
|           -1 |           -2 |           1 |           2 |
+--------------+--------------+-------------+-------------+
```

ROUND(x,y)返回最接近于参数x的数，其值保留到小数点后面y位，若y位负值，则将保留x值到小数点左边y位。

**示例2：** 使用ROUND(x,y)函数对操作数进行四舍五入操作，结果保留小数点后指定y位

```
mysql> SELECT ROUND(1.38,1),ROUND(1.38,0),ROUND(232.38,-1),ROUND(232.38,-2);
+---------------+---------------+------------------+------------------+
| ROUND(1.38,1) | ROUND(1.38,0) | ROUND(232.38,-1) | ROUND(232.38,-2) |
+---------------+---------------+------------------+------------------+
|           1.4 |             1 |              230 |              200 |
+---------------+---------------+------------------+------------------+
```

TRUNCATE(x,y)返回被舍弃小数点后y位的数字x。若y为0，则结果不带有小数点或不带有小数部分。若y设为负数，则截去x小数点左起第y位开始后面所有低位的值。

**示例3：** 使用TRUNCATE(x,y)函数对操作数进行截取操作，结果保留小数点后面指定y位

```
mysql> SELECT TRUNCATE(1.31,1), TRUNCATE(1.99,1), TRUNCATE(1.99,0), TRUNCATE(19.99,-1);
+------------------+------------------+------------------+--------------------+
| TRUNCATE(1.31,1) | TRUNCATE(1.99,1) | TRUNCATE(1.99,0) | TRUNCATE(19.99,-1) |
+------------------+------------------+------------------+--------------------+
|              1.3 |              1.9 |                1 |                 10 |
+------------------+------------------+------------------+--------------------+
```

TRUNCATE(1.31,1)和TRUNCATE(1.99,1)都保留小数点后1位数字，返回值分别为1.3和1.9；TRUNCATE(1.99,0)返回整数部分1；TRUNCATE(19.99,-1)截去小数点左边第一位后面的值，并将整数部分的1为数字置0，结果为10。

<br>

### 2.6 符号函数SIGN(x)

SIGN(x)返回参数的符号，x的值为负，零或正时返回结果依次为-1，0和1。

**示例：** 使用SIGN函数返回参数的符号

```
mysql> SELECT SIGN(-21), SIGN(0), SIGN(21);
+-----------+---------+----------+
| SIGN(-21) | SIGN(0) | SIGN(21) |
+-----------+---------+----------+
|        -1 |       0 |        1 |
+-----------+---------+----------+
```

<br>

### 2.7 幂运算函数POW(x,y)，POWER(x,y)和EXP(x)

POW(x,y)或者POWER(x,y)函数返回x的y次乘方的结果值。

**示例1：** 使用POW和POWER函数进行乘方运算

```
mysql> SELECT POW(2,2), POWER(2,2), POW(2,-2), POWER(2,-2);
+----------+------------+-----------+-------------+
| POW(2,2) | POWER(2,2) | POW(2,-2) | POWER(2,-2) |
+----------+------------+-----------+-------------+
|        4 |          4 |      0.25 |        0.25 |
+----------+------------+-----------+-------------+
```

EXP(x)返回e的x乘方后的值

**示例2：** 使用EXP函数计算e的乘方

```
mysql> SELECT EXP(3), EXP(-3), EXP(0);
+--------------------+----------------------+--------+
| EXP(3)             | EXP(-3)              | EXP(0) |
+--------------------+----------------------+--------+
| 20.085536923187668 | 0.049787068367863944 |      1 |
+--------------------+----------------------+--------+
```

<br>

### 2.8 对数运算函数LOG(x)和LOG10(x)

LOG(x)返回x的自然对数，x相对于基数e的对数。

```
mysql> SELECT EXP(3), LOG(-3);
+--------------------+---------+
| EXP(3)             | LOG(-3) |
+--------------------+---------+
| 20.085536923187668 |    NULL |
+--------------------+---------+
```

对数定义域不能为负数，因此LOG(-3)返回结果为NULL。

LOG10(x)返回x的基数为10的对数

```
mysql> SELECT LOG10(2), LOG10(100), LOG10(-100);
+--------------------+------------+-------------+
| LOG10(2)           | LOG10(100) | LOG10(-100) |
+--------------------+------------+-------------+
| 0.3010299956639812 |          2 |        NULL |
+--------------------+------------+-------------+
```

<br>

### 2.9 角度与弧度相互转换的函数RADIANS(x)和DEGREES(x)

RADIANS(x)将参数x由角度转换为弧度。

**示例1：** 使用RADIANS将角度转换为弧度

```
mysql> SELECT RADIANS(90), RADIANS(180);
+--------------------+-------------------+
| RADIANS(90)        | RADIANS(180)      |
+--------------------+-------------------+
| 1.5707963267948966 | 3.141592653589793 |
+--------------------+-------------------+
```

DEGREES将弧度转换为角度

```
mysql> SELECT DEGREES(PI()),DEGREES(PI()/2);
+---------------+-----------------+
| DEGREES(PI()) | DEGREES(PI()/2) |
+---------------+-----------------+
|           180 |              90 |
+---------------+-----------------+
```

<br>

### 2.10 正弦函数SIN(x)和反正弦函数ASIN(x)

SIN(x)返回x正弦，其中x为弧度值

**示例1：** 使用SIN函数计算正弦值

```
mysql> SELECT SIN(1), ROUND(SIN(PI()));
+--------------------+------------------+
| SIN(1)             | ROUND(SIN(PI())) |
+--------------------+------------------+
| 0.8414709848078965 |                0 |
+--------------------+------------------+
```

ASIN(x)返回x的反正弦，即正弦为x的值。若x不在-1到1的范围内，则返回NULL。

**示例2：** 使用ASIN(x)函数计算反正弦值

```
mysql> SELECT ASIN(0.8414709848078965), ASIN(3);
+--------------------------+---------+
| ASIN(0.8414709848078965) | ASIN(3) |
+--------------------------+---------+
|                        1 |    NULL |
+--------------------------+---------+
```

<br>

### 2.11 余弦函数COS(x)和反余弦函数ACOS(x)

COS(x)返回x的余弦，其中x为弧度值

**示例1：** 使用COS函数计算余弦值

```
mysql> SELECT COS(0), COS(PI()), COS(1);
+--------+-----------+--------------------+
| COS(0) | COS(PI()) | COS(1)             |
+--------+-----------+--------------------+
|      1 |        -1 | 0.5403023058681398 |
+--------+-----------+--------------------+
```

ACOS(x)返回x的反余弦，即余弦是x的值。若x不在-1到1的范围内，则返回NULL。

**示例2：** 使用ACOS函数计算反余弦值

```
mysql> SELECT ACOS(1),ACOS(0),ROUND(ACOS(0.5403023058681398));
+---------+--------------------+---------------------------------+
| ACOS(1) | ACOS(0)            | ROUND(ACOS(0.5403023058681398)) |
+---------+--------------------+---------------------------------+
|       0 | 1.5707963267948966 |                               1 |
+---------+--------------------+---------------------------------+
```

<br>

### 2.12 正切函数，反正切函数和余切函数

TAN(x)返回x的正切，其中x为给定的弧度值

**示例1：** 使用TAN函数计算正切值

```
mysql> SELECT TAN(0.3), ROUND(TAN(PI()/4));
+---------------------+--------------------+
| TAN(0.3)            | ROUND(TAN(PI()/4)) |
+---------------------+--------------------+
| 0.30933624960962325 |                  1 |
+---------------------+--------------------+
```

ATAN(x)返回x的反正切，即正切值为x。

**示例2：** 使用ATAN函数计算反正切值

```
mysql> SELECT ATAN(0.30933624960962325), ATAN(1);
+---------------------------+--------------------+
| ATAN(0.30933624960962325) | ATAN(1)            |
+---------------------------+--------------------+
|                       0.3 | 0.7853981633974483 |
+---------------------------+--------------------+
```

COT(x)返回x的余切

**示例3：** 使用COT()函数计算余切值

```
mysql> SELECT COT(0.3), 1/TAN(0.3), COT(PI()/4);
+--------------------+--------------------+--------------------+
| COT(0.3)           | 1/TAN(0.3)         | COT(PI()/4)        |
+--------------------+--------------------+--------------------+
| 3.2327281437658275 | 3.2327281437658275 | 1.0000000000000002 |
+--------------------+--------------------+--------------------+
```

---

## 3.字符串函数

MySQL字符串函数有：
* 计算字符串长度函数；
* 字符串合并函数；
* 字符串替换函数；
* 字符串比较函数；
* 查找指定字符串位置函数
* ……

### 3.1 计算字符串字符数的函数和字符串长度的函数

CHAR_LENGTH(str)返回字符串str所包含的字符个数。一个多字节字符算作一个单字符。

**示例：** 使用CHAR_LENGTH函数计算字符串个数

```
mysql> SELECT CHAR_LENGTH('date'), CHAR_LENGTH('egg');
+---------------------+--------------------+
| CHAR_LENGTH('date') | CHAR_LENGTH('egg') |
+---------------------+--------------------+
|                   4 |                  3 |
+---------------------+--------------------+
```

LENGTH(str)返回字符串的字节长度，使用UTF-8编码字符集时，一个汉字是3个字节，一个数字或字符算一个字节。

**示例：** 使用LENGTH函数计算字符串长度

```
mysql> SELECT LENGTH('date'), LENGTH('egg'), LENGTH('数');
+----------------+---------------+---------------+
| LENGTH('date') | LENGTH('egg') | LENGTH('数')  |
+----------------+---------------+---------------+
|              4 |             3 |             3 |
+----------------+---------------+---------------+
```

<br>

### 3.2 合并字符串函数CONCAT(s1,s2,...)，CONCAT_WS(x,s1,s2,...)

CONCAT(s1,s2,...)返回结果为连接参数产生的字符串，或许一个或多个参数。若有任何一个参数为NULL，则返回值为NULL。若所有参数均为非二进制字符串，则结果为非二进制字符串。若自变量中含有任一二进制字符串，则结果为一个二进制字符串。

**示例：** 使用CONCAT函数连接字符串

```
mysql> SELECT CONCAT('My SQL','5.7'), CONCAT('My',NULL,'SQL');
+------------------------+-------------------------+
| CONCAT('My SQL','5.7') | CONCAT('My',NULL,'SQL') |
+------------------------+-------------------------+
| My SQL5.7              | NULL                    |
+------------------------+-------------------------+
```

CONCAT_WS(x,s1,s2,...)，CONCAT_WS代表CONCAT With Separator，是CONCAT()的特殊形式。

第一个参数x是其他参数的分隔符，分隔符的位置放在要连接的两个字符串之间。分隔符可以是一个字符串，也可以是其他参数。若分隔符为NULL，则结果也为NULL。函数会忽略任何分隔符参数后的NULL值。

**示例：** 使用CONCAT_WS函数连接带分隔符号的字符串

```
mysql> SELECT CONCAT_WS('-','1st','2nd','3rd'), CONCAT_WS('*','1st',NULL,'3rd');
+----------------------------------+---------------------------------+
| CONCAT_WS('-','1st','2nd','3rd') | CONCAT_WS('*','1st',NULL,'3rd') |
+----------------------------------+---------------------------------+
| 1st-2nd-3rd                      | 1st*3rd                         |
+----------------------------------+---------------------------------+
```

<br>

### 3.3 替换字符串的函数INSERT(s1,x,len,s2)

INSERT(s1,x,len,s2)返回字符串s1，其子字符串始于x位置和被字符串s2取代的len字符。若x超过字符串长度，则返回值为原始字符串。假如len的长度大于其他字符串的长度，则从位置x开始替换。若任何一个参数为NULL，则返回值为NULL。

**示例：** 使用INSERT函数进行字符串替代操作

```
mysql> SELECT INSERT('Quest',2,4,'What') AS col1,
    -> INSERT('Quest',-1,4,'What') AS col2,
    -> INSERT('Quest',3,100,'What') AS col3;
+-------+-------+--------+
| col1  | col2  | col3   |
+-------+-------+--------+
| QWhat | Quest | QuWhat |
+-------+-------+--------+
```
<br>

### 3.4 字母大小写转换函数

LOWER(str)或者LCASE(str)可以将字符串str中的字母字符全部转换成小写字母。

UPPER(str)或者UCASE(str)可以将字符串str中的字母字符全部转换成大小写字母。

**示例：**

```
mysql> SELECT LOWER('BEAUTIFUL'), LCASE('Well');
+--------------------+---------------+
| LOWER('BEAUTIFUL') | LCASE('Well') |
+--------------------+---------------+
| beautiful          | well          |
+--------------------+---------------+

mysql> SELECT UPPER('black'), UCASE('BLack');
+----------------+----------------+
| UPPER('black') | UCASE('BLack') |
+----------------+----------------+
| BLACK          | BLACK          |
+----------------+----------------+
```
<br>

### 3.5 获取指定长度的字符串的函数LEFT(s,n)和RIGHT(s,n)

LEFT(s,n)返回字符串s开始的最左边n个字符。RIGHT(s,n)返回字符串中最右边n个字符。

**示例：**

```
mysql> SELECT LEFT('football',5);
+--------------------+
| LEFT('football',5) |
+--------------------+
| footb              |
+--------------------+

mysql> SELECT RIGHT('football',4);
+---------------------+
| RIGHT('football',4) |
+---------------------+
| ball                |
+---------------------+
```
<br>

### 3.6 填充字符串的函数LPAD(s1,len,s2)和RPAD(s1,len,s2)

LPAD(s1,len,s2)返回字符串s1，其左边由字符串s2填补到len字符长度。假如s1的长度大于len，则返回值将被缩短至len字符。

RPAD(s1,len,s2)返回字符串s1，其右边被字符串s2填补至len字符长度。假如字符串s1的长度大于len，则返回值被缩短到len字符长度。

**示例：**

```
mysql> SELECT LPAD('hello', 4, '??'),LPAD('hello',10,'??');
+------------------------+-----------------------+
| LPAD('hello', 4, '??') | LPAD('hello',10,'??') |
+------------------------+-----------------------+
| hell                   | ?????hello            |
+------------------------+-----------------------+

mysql> SELECT RPAD('hello',4,'?'), RPAD('hello',10,'?');
+---------------------+----------------------+
| RPAD('hello',4,'?') | RPAD('hello',10,'?') |
+---------------------+----------------------+
| hell                | hello?????           |
+---------------------+----------------------+
```
<br>

### 3.7 删除空格的函数LTRIM(s)，RTRIM(s)和TRIM(s)

LTRIM(s)返回字符串s，字符串左侧空格字符被删除。

RTRIM(s)返回字符串s，字符串右侧空格字符被删除。

TRIM(s)删除字符串s两侧的空格。

**示例：**

```
mysql> SELECT '( book )', CONCAT('(',LTRIM(' book '),')');
+----------+---------------------------------+
| ( book ) | CONCAT('(',LTRIM(' book '),')') |
+----------+---------------------------------+
| ( book ) | (book )                         |
+----------+---------------------------------+

mysql> SELECT '( book )', CONCAT('(',RTRIM(' book '),')');
+----------+---------------------------------+
| ( book ) | CONCAT('(',RTRIM(' book '),')') |
+----------+---------------------------------+
| ( book ) | ( book)                         |
+----------+---------------------------------+

mysql> SELECT '( book )', CONCAT('(',TRIM(' book '),')');
+----------+--------------------------------+
| ( book ) | CONCAT('(',TRIM(' book '),')') |
+----------+--------------------------------+
| ( book ) | (book)                         |
+----------+--------------------------------+
```
<br>

### 3.8 删除指定字符串的函数TRIM(s1 FROM s)

TRIM(s1 FROM s)删除字符串s中两端所有的子字符串s1。s1是可选项，在未指定情况下，默认删除空格。

**示例：**

```
mysql> SELECT TRIM('xy' FROM 'xyxboxyokxxyxy');
+----------------------------------+
| TRIM('xy' FROM 'xyxboxyokxxyxy') |
+----------------------------------+
| xboxyokx                         |
+----------------------------------+
```
<br>

### 3.9 重复生成字符串的函数REPEAT(s,n)

REPEAT(s,n)返回一个由重复的字符串s组成的字符串，字符串s的数目等于n。若n<=0，则返回一个空字符串。若s或n为NULL，则返回NULL。

**示例：**

```
mysql> SELECT REPEAT('mysql', 3), REPEAT('mysql',-1);
+--------------------+--------------------+
| REPEAT('mysql', 3) | REPEAT('mysql',-1) |
+--------------------+--------------------+
| mysqlmysqlmysql    |                    |
+--------------------+--------------------+
```

<br>


### 3.10 空格函数SPACE(n)和替换函数REPLACE(s,s1,s2)

SPACE(n)返回一个由n个空格组成的字符串。

REPLACE(s,s1,s2)使用字符串s2替代字符串s中所有的字符串s2。

**示例：**

```
mysql> SELECT CONCAT('(',SPACE(6),')');
+--------------------------+
| CONCAT('(',SPACE(6),')') |
+--------------------------+
| (      )                 |
+--------------------------+

mysql> SELECT REPLACE('xxx.mysql.com','x','w');
+----------------------------------+
| REPLACE('xxx.mysql.com','x','w') |
+----------------------------------+
| www.mysql.com                    |
+----------------------------------+
```

<br>

### 3.11 比较字符串大小的函数STRCMP(s1,s2)

STRCMP(s1,s2)中若s1和s2字符串都相同，则返回0；若根据当前分类次序，第一个参数小于第二个，则返回-1，其他情况返回1。


**示例：**

```
mysql> SELECT STRCMP('txt','txt2'), STRCMP('txt2','txt'),STRCMP('txt','txt');
+----------------------+----------------------+---------------------+
| STRCMP('txt','txt2') | STRCMP('txt2','txt') | STRCMP('txt','txt') |
+----------------------+----------------------+---------------------+
|                   -1 |                    1 |                   0 |
+----------------------+----------------------+---------------------+
```

<br>

### 3.12 获取子串的函数SUBSTRING(s,n,len)和MID(s,n,len)

SUBSTRING(s,n,len)带有len参数的格式，从字符串s返回一个长度同len字符相同的子字符串，起始于位置n。如果n是负值，则子字符串的起始位置始于字符串结尾的n字符，即倒数第n个字符，而不是字符串的开头位置。

MID(s,n,len)与SUBSTRING(s,n,len)的作用相同。

**示例：**

```
mysql> SELECT SUBSTRING('breakfast',5) AS col1,
    -> SUBSTRING('breakfast',5,3) AS col2,
    -> SUBSTRING('lunch',-3) AS col3,
    -> SUBSTRING('lunch',-5,3) AS col4;
+-------+------+------+------+
| col1  | col2 | col3 | col4 |
+-------+------+------+------+
| kfast | kfa  | nch  | lun  |
+-------+------+------+------+

mysql> SELECT MID('breakfast',5) AS col1,
    -> MID('breakfast',5,3) AS col2,
    -> MID('lunch',-3) AS col3,
    -> MID('lunch',-5,3) AS col4;
+-------+------+------+------+
| col1  | col2 | col3 | col4 |
+-------+------+------+------+
| kfast | kfa  | nch  | lun  |
+-------+------+------+------+
```

#### 提示

若对len使用一个小于1的值，则结果始终为空字符串。

<br>

### 3.13 匹配子串开始位置的函数

LOACTE(str1,str)，POSITION(str1 IN str)和INSTR(str,str1)这三个函数作用相同，返回子字符串str1在字符串str中的开始位置。

**示例：**

```
mysql> SELECT LOCATE('ball','football'), POSITION('ball' IN 'football'), INSTR('football','ball');
+---------------------------+--------------------------------+--------------------------+
| LOCATE('ball','football') | POSITION('ball' IN 'football') | INSTR('football','ball') |
+---------------------------+--------------------------------+--------------------------+
|                         5 |                              5 |                        5 |
+---------------------------+--------------------------------+--------------------------+
```

<br>

### 3.14 字符串逆序的函数REVERSE(s)

REVERSE(s)将字符串s反转，返回的字符串的顺序和s字符串顺序相反。

**示例：**

```
mysql> SELECT REVERSE('abc');
+----------------+
| REVERSE('abc') |
+----------------+
| cba            |
+----------------+
```

<br>

### 3.15 返回指定位置的字符串的函数

ELT(N,str1,str2,...,strN)若N=1，则返回字符串1，若N=2，则返回字符串2，以此类推。若N小于1或大于参数的数目，则返回NULL。

**示例：**

```
mysql> SELECT ELT(3,'1st','2nd','3rd'), ELT(3,'net','os');
+--------------------------+-------------------+
| ELT(3,'1st','2nd','3rd') | ELT(3,'net','os') |
+--------------------------+-------------------+
| 3rd                      | NULL              |
+--------------------------+-------------------+
```

<br>

### 3.16 返回指定字符串位置的函数FIELD(s,s1,s2,...)

FIELD(s,s1,s2,...)返回字符串s在列表s1，s2，……中第一次出现的位置，在找不到s的情况下，返回值为0。如果s为NULL，则返回值为0，原因是NULL不能同任何值进行同等比较。

**示例：**

```
mysql> SELECT FIELD('Hi','hihi','Hey','Hi','bas') AS col1,
    -> FIELD('Hi','Hey','Lo','Hilo','foo') AS col2;
+------+------+
| col1 | col2 |
+------+------+
|    3 |    0 |
+------+------+
```

<br>

### 3.17 返回子串位置的函数FIND_IN_SET(s1,s2)

FIND_IN_SET(s1,s2)返回字符串s1在字符串列表s2中出现的位置，字符串列表是一个由多个逗号','分开的字符串组成的列表。若s1不在s2或s2为空字符串，则返回0。若任意一个参数为NULL，则返回值为NULL。

当第一个参数包含一个逗号','时将无法正常运行。

**示例：**

```
mysql> SELECT FIND_IN_SET('Hi','hihi,Hey,hi,bas');
+-------------------------------------+
| FIND_IN_SET('Hi','hihi,Hey,hi,bas') |
+-------------------------------------+
|                                   3 |
+-------------------------------------+
```

<br>

### 3.18 选取字符串的函数MAKE_SET(x,s1,s2,...)

MAKE_SET(x,s1,s2,...)返回由x的二进制数指定的相应位的字符串组成的字符串，s1对应比特1，s2对应比特01，以此类推。s1，s2，……中的NULL值不会被添加到结果中。

**示例：**

```
mysql> SELECT MAKE_SET(1,'a','b','c') AS col1,
    -> MAKE_SET(1 | 4,'hello','nice','world') AS col2,
    -> MAKE_SET(1 | 4,'hello','nice',NULL,'world') AS col3,
    -> MAKE_SET(0,'a','b','c') AS col4;
+------+-------------+-------+------+
| col1 | col2        | col3  | col4 |
+------+-------------+-------+------+
| a    | hello,world | hello |      |
+------+-------------+-------+------+
```

1的二进制值为0001，4的二进制值为0100，1与4进行或操作之后的二进制值为0101，从右到左第1位和第3位位1。MAKE_SET(1,'a','b','c')返回第一个字符串；
MAKE_SET(1|4,'hello','nice','world')返回从左端开始第1个和第3个字符串组成的字符串；NULL不会添加到结果中，因此MAKE_SET(1|4,'hello','nice',NULL,'world')只返回第一个字符串'hello'；MAKE_SET(0,'a','b','c')返回空字符串。

<br>

---


