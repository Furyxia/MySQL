# MySQL函数

## 1.MySQL函数简介

MySQL函数从功能方面主要分为以下几类：
1. 数学函数；
2. 字符串函数；
3. 日期和时间函数；
4. 条件判断函数；
5. 系统信息函数；
6. 加密函数；

---

## 2.数学函数

数学函数主要用来处理数值数据，主要的数据函数有：
* 绝对值函数；
* 三角函数（包括正弦函数，余弦函数，正切函数，余切函数等）；
* 对数函数；
* 随机函数
* ……

### 2.1 绝对值函数ABS(x)和返回圆周率的函数PI()

ABS(x)返回x的绝对值

**示例1：** 求2，-3.3和-33的绝对值

```
mysql> SELECT ABS(2), ABS(-3.3), ABS(-33);
+--------+-----------+----------+
| ABS(2) | ABS(-3.3) | ABS(-33) |
+--------+-----------+----------+
|      2 |       3.3 |       33 |
+--------+-----------+----------+
```

PI()返回圆周率π的值。默认的显示小数位数使6位。

**示例2：** 返回圆周率值

```
mysql> SELECT PI();
+----------+
| PI()     |
+----------+
| 3.141593 |
+----------+
```

<br>

### 2.2 平方根函数SQRT(x)和求余函数MOD(x,y)

SQRT(x)返回非负数x的二次方根。

**示例1：** 求9，40和-49的二次平方根

```
mysql> SELECT SQRT(9), SQRT(40), SQRT(-49);
+---------+-------------------+-----------+
| SQRT(9) | SQRT(40)          | SQRT(-49) |
+---------+-------------------+-----------+
|       3 | 6.324555320336759 |      NULL |
+---------+-------------------+-----------+
```

由于复数没有没有平方根，因此-49返回的结果位NULL。

MOD(x,y)返回x被y除后的余数，MOD()对于带有小数部分的数值也起作用，它返回除法运算后的精确余数。

**示例2：** 求MOD(31,8)，MOD(234,10)，MOD(45.5,6)

```
mysql> SELECT MOD(31,8), MOD(234,10), MOD(45.5,6);
+-----------+-------------+-------------+
| MOD(31,8) | MOD(234,10) | MOD(45.5,6) |
+-----------+-------------+-------------+
|         7 |           4 |         3.5 |
+-----------+-------------+-------------+
```

<br>

### 2.3 获取整数的函数CEIL(x)，CEILING(x)和FLOOR(x)

CEIL(x)和CEILING(x)意义相同，返回不小于x的最小整数值，返回值转化位一个BIGINT。

**示例1：** 使用CEILING函数返回最小整数

```
mysql> SELECT CEIL(-3.35), CEILING(3.35);
+-------------+---------------+
| CEIL(-3.35) | CEILING(3.35) |
+-------------+---------------+
|          -3 |             4 |
+-------------+---------------+
```

FLOOR(x)返回不大于x的最大整数值，返回值转化为一个BIGINT。

**示例2：** 使用FLOOR函数返回最大整数

```
mysql> SELECT FLOOR(-3.35), FLOOR(3.35);
+--------------+-------------+
| FLOOR(-3.35) | FLOOR(3.35) |
+--------------+-------------+
|           -4 |           3 |
+--------------+-------------+
```

-3.35为负数，不大于-3.35的最大整数为-4，因此返回值为-4；不大于3.35的最大整数位3，因此返回值为3。

<br>

### 2.4 获取随机数的函数RAND()和RAND(x)

RAND(x)返回一个随机浮点数值v，范围在0到1之间（即0≦v≦1.0）。若已指定一个整数参数x，则它被作为种子值，用来产生重复序列。

**示例1：** 使用RAND()函数产生随机数

```
mysql> SELECT RAND(), RAND(), RAND();
+--------------------+---------------------+--------------------+
| RAND()             | RAND()              | RAND()             |
+--------------------+---------------------+--------------------+
| 0.9675690484862486 | 0.14164580883611536 | 0.8055219294554758 |
+--------------------+---------------------+--------------------+
```

**示例2：** 使用RAND(x)函数产生随机数

```
mysql> SELECT RAND(10), RAND(10), RAND(11);
+--------------------+--------------------+-------------------+
| RAND(10)           | RAND(10)           | RAND(11)          |
+--------------------+--------------------+-------------------+
| 0.6570515219653505 | 0.6570515219653505 | 0.907234631392392 |
+--------------------+--------------------+-------------------+
```

可以看到，当RAND(x)的参数相同时，将产生相同的随机数，不同的x产生的随机数数值相同。

<br>

### 3.5 函数ROUND(x)，ROUND(x,y)和TRUNCATE(x,y)

ROUND(x)返回最接近与参数x的整数，对x值进行四舍五入

**示例1：** 使用ROUND(x)函数对操作数进行四舍五入操作

```
mysql> SELECT ROUND(-1.14), ROUND(-1.67), ROUND(1.14), ROUND(1.66);
+--------------+--------------+-------------+-------------+
| ROUND(-1.14) | ROUND(-1.67) | ROUND(1.14) | ROUND(1.66) |
+--------------+--------------+-------------+-------------+
|           -1 |           -2 |           1 |           2 |
+--------------+--------------+-------------+-------------+
```

ROUND(x,y)返回最接近于参数x的数，其值保留到小数点后面y位，若y位负值，则将保留x值到小数点左边y位。

**示例2：** 使用ROUND(x,y)函数对操作数进行四舍五入操作，结果保留小数点后指定y位

```
mysql> SELECT ROUND(1.38,1),ROUND(1.38,0),ROUND(232.38,-1),ROUND(232.38,-2);
+---------------+---------------+------------------+------------------+
| ROUND(1.38,1) | ROUND(1.38,0) | ROUND(232.38,-1) | ROUND(232.38,-2) |
+---------------+---------------+------------------+------------------+
|           1.4 |             1 |              230 |              200 |
+---------------+---------------+------------------+------------------+
```

TRUNCATE(x,y)返回被舍弃小数点后y位的数字x。若y为0，则结果不带有小数点或不带有小数部分。若y设为负数，则截去x小数点左起第y位开始后面所有低位的值。

**示例3：** 使用TRUNCATE(x,y)函数对操作数进行截取操作，结果保留小数点后面指定y位

```
mysql> SELECT TRUNCATE(1.31,1), TRUNCATE(1.99,1), TRUNCATE(1.99,0), TRUNCATE(19.99,-1);
+------------------+------------------+------------------+--------------------+
| TRUNCATE(1.31,1) | TRUNCATE(1.99,1) | TRUNCATE(1.99,0) | TRUNCATE(19.99,-1) |
+------------------+------------------+------------------+--------------------+
|              1.3 |              1.9 |                1 |                 10 |
+------------------+------------------+------------------+--------------------+
```

TRUNCATE(1.31,1)和TRUNCATE(1.99,1)都保留小数点后1位数字，返回值分别为1.3和1.9；TRUNCATE(1.99,0)返回整数部分1；TRUNCATE(19.99,-1)截去小数点左边第一位后面的值，并将整数部分的1为数字置0，结果为10。

<br>

### 2.6 符号函数SIGN(x)

SIGN(x)返回参数的符号，x的值为负，零或正时返回结果依次为-1，0和1。

**示例：** 使用SIGN函数返回参数的符号

```
mysql> SELECT SIGN(-21), SIGN(0), SIGN(21);
+-----------+---------+----------+
| SIGN(-21) | SIGN(0) | SIGN(21) |
+-----------+---------+----------+
|        -1 |       0 |        1 |
+-----------+---------+----------+
```

<br>

### 2.7 幂运算函数POW(x,y)，POWER(x,y)和EXP(x)

POW(x,y)或者POWER(x,y)函数返回x的y次乘方的结果值。

**示例1：** 使用POW和POWER函数进行乘方运算

```
mysql> SELECT POW(2,2), POWER(2,2), POW(2,-2), POWER(2,-2);
+----------+------------+-----------+-------------+
| POW(2,2) | POWER(2,2) | POW(2,-2) | POWER(2,-2) |
+----------+------------+-----------+-------------+
|        4 |          4 |      0.25 |        0.25 |
+----------+------------+-----------+-------------+
```

EXP(x)返回e的x乘方后的值

**示例2：** 使用EXP函数计算e的乘方

```
mysql> SELECT EXP(3), EXP(-3), EXP(0);
+--------------------+----------------------+--------+
| EXP(3)             | EXP(-3)              | EXP(0) |
+--------------------+----------------------+--------+
| 20.085536923187668 | 0.049787068367863944 |      1 |
+--------------------+----------------------+--------+
```

<br>

### 2.8 对数运算函数LOG(x)和LOG10(x)

LOG(x)返回x的自然对数，x相对于基数e的对数。

```
mysql> SELECT EXP(3), LOG(-3);
+--------------------+---------+
| EXP(3)             | LOG(-3) |
+--------------------+---------+
| 20.085536923187668 |    NULL |
+--------------------+---------+
```

对数定义域不能为负数，因此LOG(-3)返回结果为NULL。

LOG10(x)返回x的基数为10的对数

```
mysql> SELECT LOG10(2), LOG10(100), LOG10(-100);
+--------------------+------------+-------------+
| LOG10(2)           | LOG10(100) | LOG10(-100) |
+--------------------+------------+-------------+
| 0.3010299956639812 |          2 |        NULL |
+--------------------+------------+-------------+
```

<br>

### 2.9 角度与弧度相互转换的函数RADIANS(x)和DEGREES(x)

RADIANS(x)将参数x由角度转换为弧度。

**示例1：** 使用RADIANS将角度转换为弧度

```
mysql> SELECT RADIANS(90), RADIANS(180);
+--------------------+-------------------+
| RADIANS(90)        | RADIANS(180)      |
+--------------------+-------------------+
| 1.5707963267948966 | 3.141592653589793 |
+--------------------+-------------------+
```

DEGREES将弧度转换为角度

```
mysql> SELECT DEGREES(PI()),DEGREES(PI()/2);
+---------------+-----------------+
| DEGREES(PI()) | DEGREES(PI()/2) |
+---------------+-----------------+
|           180 |              90 |
+---------------+-----------------+
```

<br>

### 2.10 正弦函数SIN(x)和反正弦函数ASIN(x)

SIN(x)返回x正弦，其中x为弧度值

**示例1：** 使用SIN函数计算正弦值

```
mysql> SELECT SIN(1), ROUND(SIN(PI()));
+--------------------+------------------+
| SIN(1)             | ROUND(SIN(PI())) |
+--------------------+------------------+
| 0.8414709848078965 |                0 |
+--------------------+------------------+
```

ASIN(x)返回x的反正弦，即正弦为x的值。若x不在-1到1的范围内，则返回NULL。

**示例2：** 使用ASIN(x)函数计算反正弦值

```
mysql> SELECT ASIN(0.8414709848078965), ASIN(3);
+--------------------------+---------+
| ASIN(0.8414709848078965) | ASIN(3) |
+--------------------------+---------+
|                        1 |    NULL |
+--------------------------+---------+
```

<br>

### 2.11 余弦函数COS(x)和反余弦函数ACOS(x)

COS(x)返回x的余弦，其中x为弧度值

**示例1：** 使用COS函数计算余弦值

```
mysql> SELECT COS(0), COS(PI()), COS(1);
+--------+-----------+--------------------+
| COS(0) | COS(PI()) | COS(1)             |
+--------+-----------+--------------------+
|      1 |        -1 | 0.5403023058681398 |
+--------+-----------+--------------------+
```

ACOS(x)返回x的反余弦，即余弦是x的值。若x不在-1到1的范围内，则返回NULL。

**示例2：** 使用ACOS函数计算反余弦值

```
mysql> SELECT ACOS(1),ACOS(0),ROUND(ACOS(0.5403023058681398));
+---------+--------------------+---------------------------------+
| ACOS(1) | ACOS(0)            | ROUND(ACOS(0.5403023058681398)) |
+---------+--------------------+---------------------------------+
|       0 | 1.5707963267948966 |                               1 |
+---------+--------------------+---------------------------------+
```

<br>

### 2.12 正切函数，反正切函数和余切函数

TAN(x)返回x的正切，其中x为给定的弧度值

**示例1：** 使用TAN函数计算正切值

```
mysql> SELECT TAN(0.3), ROUND(TAN(PI()/4));
+---------------------+--------------------+
| TAN(0.3)            | ROUND(TAN(PI()/4)) |
+---------------------+--------------------+
| 0.30933624960962325 |                  1 |
+---------------------+--------------------+
```

ATAN(x)返回x的反正切，即正切值为x。

**示例2：** 使用ATAN函数计算反正切值

```
mysql> SELECT ATAN(0.30933624960962325), ATAN(1);
+---------------------------+--------------------+
| ATAN(0.30933624960962325) | ATAN(1)            |
+---------------------------+--------------------+
|                       0.3 | 0.7853981633974483 |
+---------------------------+--------------------+
```

COT(x)返回x的余切

**示例3：** 使用COT()函数计算余切值

```
mysql> SELECT COT(0.3), 1/TAN(0.3), COT(PI()/4);
+--------------------+--------------------+--------------------+
| COT(0.3)           | 1/TAN(0.3)         | COT(PI()/4)        |
+--------------------+--------------------+--------------------+
| 3.2327281437658275 | 3.2327281437658275 | 1.0000000000000002 |
+--------------------+--------------------+--------------------+
```

---

## 3.字符串函数

MySQL字符串函数有：
* 计算字符串长度函数；
* 字符串合并函数；
* 字符串替换函数；
* 字符串比较函数；
* 查找指定字符串位置函数
* ……

### 3.1 计算字符串字符数的函数和字符串长度的函数

CHAR_LENGTH(str)返回字符串str所包含的字符个数。一个多字节字符算作一个单字符。

**示例：** 使用CHAR_LENGTH函数计算字符串个数

```
mysql> SELECT CHAR_LENGTH('date'), CHAR_LENGTH('egg');
+---------------------+--------------------+
| CHAR_LENGTH('date') | CHAR_LENGTH('egg') |
+---------------------+--------------------+
|                   4 |                  3 |
+---------------------+--------------------+
```

LENGTH(str)返回字符串的字节长度，使用UTF-8编码字符集时，一个汉字是3个字节，一个数字或字符算一个字节。

**示例：** 使用LENGTH函数计算字符串长度

```
mysql> SELECT LENGTH('date'), LENGTH('egg'), LENGTH('数');
+----------------+---------------+---------------+
| LENGTH('date') | LENGTH('egg') | LENGTH('数')  |
+----------------+---------------+---------------+
|              4 |             3 |             3 |
+----------------+---------------+---------------+
```

<br>

### 3.2 合并字符串函数CONCAT(s1,s2,...)，CONCAT_WS(x,s1,s2,...)

CONCAT(s1,s2,...)返回结果为连接参数产生的字符串，或许一个或多个参数。若有任何一个参数为NULL，则返回值为NULL。若所有参数均为非二进制字符串，则结果为非二进制字符串。若自变量中含有任一二进制字符串，则结果为一个二进制字符串。

**示例：** 使用CONCAT函数连接字符串

```
mysql> SELECT CONCAT('My SQL','5.7'), CONCAT('My',NULL,'SQL');
+------------------------+-------------------------+
| CONCAT('My SQL','5.7') | CONCAT('My',NULL,'SQL') |
+------------------------+-------------------------+
| My SQL5.7              | NULL                    |
+------------------------+-------------------------+
```

CONCAT_WS(x,s1,s2,...)，CONCAT_WS代表CONCAT With Separator，是CONCAT()的特殊形式。

第一个参数x是其他参数的分隔符，分隔符的位置放在要连接的两个字符串之间。分隔符可以是一个字符串，也可以是其他参数。若分隔符为NULL，则结果也为NULL。函数会忽略任何分隔符参数后的NULL值。

**示例：** 使用CONCAT_WS函数连接带分隔符号的字符串

```
mysql> SELECT CONCAT_WS('-','1st','2nd','3rd'), CONCAT_WS('*','1st',NULL,'3rd');
+----------------------------------+---------------------------------+
| CONCAT_WS('-','1st','2nd','3rd') | CONCAT_WS('*','1st',NULL,'3rd') |
+----------------------------------+---------------------------------+
| 1st-2nd-3rd                      | 1st*3rd                         |
+----------------------------------+---------------------------------+
```

<br>

### 3.3 替换字符串的函数INSERT(s1,x,len,s2)

INSERT(s1,x,len,s2)返回字符串s1，其子字符串始于x位置和被字符串s2取代的len字符。若x超过字符串长度，则返回值为原始字符串。假如len的长度大于其他字符串的长度，则从位置x开始替换。若任何一个参数为NULL，则返回值为NULL。

**示例：** 使用INSERT函数进行字符串替代操作

```
mysql> SELECT INSERT('Quest',2,4,'What') AS col1,
    -> INSERT('Quest',-1,4,'What') AS col2,
    -> INSERT('Quest',3,100,'What') AS col3;
+-------+-------+--------+
| col1  | col2  | col3   |
+-------+-------+--------+
| QWhat | Quest | QuWhat |
+-------+-------+--------+
```
<br>

### 3.4 字母大小写转换函数

LOWER(str)或者LCASE(str)可以将字符串str中的字母字符全部转换成小写字母。

UPPER(str)或者UCASE(str)可以将字符串str中的字母字符全部转换成大小写字母。

**示例：**

```
mysql> SELECT LOWER('BEAUTIFUL'), LCASE('Well');
+--------------------+---------------+
| LOWER('BEAUTIFUL') | LCASE('Well') |
+--------------------+---------------+
| beautiful          | well          |
+--------------------+---------------+

mysql> SELECT UPPER('black'), UCASE('BLack');
+----------------+----------------+
| UPPER('black') | UCASE('BLack') |
+----------------+----------------+
| BLACK          | BLACK          |
+----------------+----------------+
```
<br>

### 3.5 获取指定长度的字符串的函数LEFT(s,n)和RIGHT(s,n)

LEFT(s,n)返回字符串s开始的最左边n个字符。RIGHT(s,n)返回字符串中最右边n个字符。

**示例：**

```
mysql> SELECT LEFT('football',5);
+--------------------+
| LEFT('football',5) |
+--------------------+
| footb              |
+--------------------+

mysql> SELECT RIGHT('football',4);
+---------------------+
| RIGHT('football',4) |
+---------------------+
| ball                |
+---------------------+
```
<br>

### 3.6 填充字符串的函数LPAD(s1,len,s2)和RPAD(s1,len,s2)

LPAD(s1,len,s2)返回字符串s1，其左边由字符串s2填补到len字符长度。假如s1的长度大于len，则返回值将被缩短至len字符。

RPAD(s1,len,s2)返回字符串s1，其右边被字符串s2填补至len字符长度。假如字符串s1的长度大于len，则返回值被缩短到len字符长度。

**示例：**

```
mysql> SELECT LPAD('hello', 4, '??'),LPAD('hello',10,'??');
+------------------------+-----------------------+
| LPAD('hello', 4, '??') | LPAD('hello',10,'??') |
+------------------------+-----------------------+
| hell                   | ?????hello            |
+------------------------+-----------------------+

mysql> SELECT RPAD('hello',4,'?'), RPAD('hello',10,'?');
+---------------------+----------------------+
| RPAD('hello',4,'?') | RPAD('hello',10,'?') |
+---------------------+----------------------+
| hell                | hello?????           |
+---------------------+----------------------+
```
<br>

### 3.7 删除空格的函数LTRIM(s)，RTRIM(s)和TRIM(s)

LTRIM(s)返回字符串s，字符串左侧空格字符被删除。

RTRIM(s)返回字符串s，字符串右侧空格字符被删除。

TRIM(s)删除字符串s两侧的空格。

**示例：**

```
mysql> SELECT '( book )', CONCAT('(',LTRIM(' book '),')');
+----------+---------------------------------+
| ( book ) | CONCAT('(',LTRIM(' book '),')') |
+----------+---------------------------------+
| ( book ) | (book )                         |
+----------+---------------------------------+

mysql> SELECT '( book )', CONCAT('(',RTRIM(' book '),')');
+----------+---------------------------------+
| ( book ) | CONCAT('(',RTRIM(' book '),')') |
+----------+---------------------------------+
| ( book ) | ( book)                         |
+----------+---------------------------------+

mysql> SELECT '( book )', CONCAT('(',TRIM(' book '),')');
+----------+--------------------------------+
| ( book ) | CONCAT('(',TRIM(' book '),')') |
+----------+--------------------------------+
| ( book ) | (book)                         |
+----------+--------------------------------+
```
<br>

### 3.8 删除指定字符串的函数TRIM(s1 FROM s)

TRIM(s1 FROM s)删除字符串s中两端所有的子字符串s1。s1是可选项，在未指定情况下，默认删除空格。

**示例：**

```
mysql> SELECT TRIM('xy' FROM 'xyxboxyokxxyxy');
+----------------------------------+
| TRIM('xy' FROM 'xyxboxyokxxyxy') |
+----------------------------------+
| xboxyokx                         |
+----------------------------------+
```
<br>

### 3.9 重复生成字符串的函数REPEAT(s,n)

REPEAT(s,n)返回一个由重复的字符串s组成的字符串，字符串s的数目等于n。若n<=0，则返回一个空字符串。若s或n为NULL，则返回NULL。

**示例：**

```
mysql> SELECT REPEAT('mysql', 3), REPEAT('mysql',-1);
+--------------------+--------------------+
| REPEAT('mysql', 3) | REPEAT('mysql',-1) |
+--------------------+--------------------+
| mysqlmysqlmysql    |                    |
+--------------------+--------------------+
```

<br>


### 3.10 空格函数SPACE(n)和替换函数REPLACE(s,s1,s2)

SPACE(n)返回一个由n个空格组成的字符串。

REPLACE(s,s1,s2)使用字符串s2替代字符串s中所有的字符串s2。

**示例：**

```
mysql> SELECT CONCAT('(',SPACE(6),')');
+--------------------------+
| CONCAT('(',SPACE(6),')') |
+--------------------------+
| (      )                 |
+--------------------------+

mysql> SELECT REPLACE('xxx.mysql.com','x','w');
+----------------------------------+
| REPLACE('xxx.mysql.com','x','w') |
+----------------------------------+
| www.mysql.com                    |
+----------------------------------+
```

<br>

### 3.11 比较字符串大小的函数STRCMP(s1,s2)

STRCMP(s1,s2)中若s1和s2字符串都相同，则返回0；若根据当前分类次序，第一个参数小于第二个，则返回-1，其他情况返回1。


**示例：**

```
mysql> SELECT STRCMP('txt','txt2'), STRCMP('txt2','txt'),STRCMP('txt','txt');
+----------------------+----------------------+---------------------+
| STRCMP('txt','txt2') | STRCMP('txt2','txt') | STRCMP('txt','txt') |
+----------------------+----------------------+---------------------+
|                   -1 |                    1 |                   0 |
+----------------------+----------------------+---------------------+
```

<br>

### 3.12 获取子串的函数SUBSTRING(s,n,len)和MID(s,n,len)

SUBSTRING(s,n,len)带有len参数的格式，从字符串s返回一个长度同len字符相同的子字符串，起始于位置n。如果n是负值，则子字符串的起始位置始于字符串结尾的n字符，即倒数第n个字符，而不是字符串的开头位置。

MID(s,n,len)与SUBSTRING(s,n,len)的作用相同。

**示例：**

```
mysql> SELECT SUBSTRING('breakfast',5) AS col1,
    -> SUBSTRING('breakfast',5,3) AS col2,
    -> SUBSTRING('lunch',-3) AS col3,
    -> SUBSTRING('lunch',-5,3) AS col4;
+-------+------+------+------+
| col1  | col2 | col3 | col4 |
+-------+------+------+------+
| kfast | kfa  | nch  | lun  |
+-------+------+------+------+

mysql> SELECT MID('breakfast',5) AS col1,
    -> MID('breakfast',5,3) AS col2,
    -> MID('lunch',-3) AS col3,
    -> MID('lunch',-5,3) AS col4;
+-------+------+------+------+
| col1  | col2 | col3 | col4 |
+-------+------+------+------+
| kfast | kfa  | nch  | lun  |
+-------+------+------+------+
```

#### 提示

若对len使用一个小于1的值，则结果始终为空字符串。

<br>

### 3.13 匹配子串开始位置的函数

LOACTE(str1,str)，POSITION(str1 IN str)和INSTR(str,str1)这三个函数作用相同，返回子字符串str1在字符串str中的开始位置。

**示例：**

```
mysql> SELECT LOCATE('ball','football'), POSITION('ball' IN 'football'), INSTR('football','ball');
+---------------------------+--------------------------------+--------------------------+
| LOCATE('ball','football') | POSITION('ball' IN 'football') | INSTR('football','ball') |
+---------------------------+--------------------------------+--------------------------+
|                         5 |                              5 |                        5 |
+---------------------------+--------------------------------+--------------------------+
```

<br>

### 3.14 字符串逆序的函数REVERSE(s)

REVERSE(s)将字符串s反转，返回的字符串的顺序和s字符串顺序相反。

**示例：**

```
mysql> SELECT REVERSE('abc');
+----------------+
| REVERSE('abc') |
+----------------+
| cba            |
+----------------+
```

<br>

### 3.15 返回指定位置的字符串的函数

ELT(N,str1,str2,...,strN)若N=1，则返回字符串1，若N=2，则返回字符串2，以此类推。若N小于1或大于参数的数目，则返回NULL。

**示例：**

```
mysql> SELECT ELT(3,'1st','2nd','3rd'), ELT(3,'net','os');
+--------------------------+-------------------+
| ELT(3,'1st','2nd','3rd') | ELT(3,'net','os') |
+--------------------------+-------------------+
| 3rd                      | NULL              |
+--------------------------+-------------------+
```

<br>

### 3.16 返回指定字符串位置的函数FIELD(s,s1,s2,...)

FIELD(s,s1,s2,...)返回字符串s在列表s1，s2，……中第一次出现的位置，在找不到s的情况下，返回值为0。如果s为NULL，则返回值为0，原因是NULL不能同任何值进行同等比较。

**示例：**

```
mysql> SELECT FIELD('Hi','hihi','Hey','Hi','bas') AS col1,
    -> FIELD('Hi','Hey','Lo','Hilo','foo') AS col2;
+------+------+
| col1 | col2 |
+------+------+
|    3 |    0 |
+------+------+
```

<br>

### 3.17 返回子串位置的函数FIND_IN_SET(s1,s2)

FIND_IN_SET(s1,s2)返回字符串s1在字符串列表s2中出现的位置，字符串列表是一个由多个逗号','分开的字符串组成的列表。若s1不在s2或s2为空字符串，则返回0。若任意一个参数为NULL，则返回值为NULL。

当第一个参数包含一个逗号','时将无法正常运行。

**示例：**

```
mysql> SELECT FIND_IN_SET('Hi','hihi,Hey,hi,bas');
+-------------------------------------+
| FIND_IN_SET('Hi','hihi,Hey,hi,bas') |
+-------------------------------------+
|                                   3 |
+-------------------------------------+
```

<br>

### 3.18 选取字符串的函数MAKE_SET(x,s1,s2,...)

MAKE_SET(x,s1,s2,...)返回由x的二进制数指定的相应位的字符串组成的字符串，s1对应比特1，s2对应比特01，以此类推。s1，s2，……中的NULL值不会被添加到结果中。

**示例：**

```
mysql> SELECT MAKE_SET(1,'a','b','c') AS col1,
    -> MAKE_SET(1 | 4,'hello','nice','world') AS col2,
    -> MAKE_SET(1 | 4,'hello','nice',NULL,'world') AS col3,
    -> MAKE_SET(0,'a','b','c') AS col4;
+------+-------------+-------+------+
| col1 | col2        | col3  | col4 |
+------+-------------+-------+------+
| a    | hello,world | hello |      |
+------+-------------+-------+------+
```

1的二进制值为0001，4的二进制值为0100，1与4进行或操作之后的二进制值为0101，从右到左第1位和第3位位1。MAKE_SET(1,'a','b','c')返回第一个字符串；
MAKE_SET(1|4,'hello','nice','world')返回从左端开始第1个和第3个字符串组成的字符串；NULL不会添加到结果中，因此MAKE_SET(1|4,'hello','nice',NULL,'world')只返回第一个字符串'hello'；MAKE_SET(0,'a','b','c')返回空字符串。

<br>

---

## 4.日期和时间函数

### 4.1 获取当前日期的函数和获取当前时间的函数

CURDATE()和CURRENT_DATE()函数作用相同，将当前日期按照'YYYY-MM-DD'或YYYYMMDD格式值返回，具体格式根据函数在字符串或是数字语境中而定！

**示例：**

```
mysql> SELECT CURDATE(), CURRENT_DATE(), CURDATE()+0;
+------------+----------------+-------------+
| CURDATE()  | CURRENT_DATE() | CURDATE()+0 |
+------------+----------------+-------------+
| 2019-11-21 | 2019-11-21     |    20191121 |
+------------+----------------+-------------+
```

可以看到两个函数作用是相同的，都返回了相同的系统当前日期。而'CURDATE()+0'将当前日期转换为数值型。

CURTIME()和CURRENT_TIME()函数作用相同，将当前时间以'HH：MM：SS'或HHMMSS的格式返回，具体格式根据函数在字符串或是数字语境而定！

**示例：**

```
mysql> SELECT CURTIME(),CURRENT_TIME(),CURTIME()+0;
+-----------+----------------+-------------+
| CURTIME() | CURRENT_TIME() | CURTIME()+0 |
+-----------+----------------+-------------+
| 09:59:20  | 09:59:20       |       95920 |
+-----------+----------------+-------------+
```

与'CURDATE()+0'同理，'CURTIME()+0'将当前时间值转换为数值型。

<br>

### 4.2 获取当前日期和时间的函数

CURRENT_TIMESTAMP()，LOCALTIME()，NOW()和SYSDATE()这四个函数作用相同，均返回当前日期和时间值，格式为'YYYY-MM-DD HH：MM：SS'或'YYYYMMDDHHMMSS'。具体格式根据函数在字符串或数字语境中而定。

**示例：**

```
mysql> SELECT CURRENT_TIMESTAMP(),LOCALTIME(),NOW(),SYSDATE();
+---------------------+---------------------+---------------------+---------------------+
| CURRENT_TIMESTAMP() | LOCALTIME()         | NOW()               | SYSDATE()           |
+---------------------+---------------------+---------------------+---------------------+
| 2019-11-21 10:06:21 | 2019-11-21 10:06:21 | 2019-11-21 10:06:21 | 2019-11-21 10:06:21 |
+---------------------+---------------------+---------------------+---------------------+
```

<br>

### 4.3 UNIX时间戳函数

UNIX_TIMESTAMP(date)若无参数调用，则返回一个Unix时间戳('1970-01-01 00：00：00'GMT之后的秒数)作为无符号整数。其中GMT为格林尼治标准时间。

若用date来调用UNIX_TIMESTAMP()，它会将参数值以'1970-01-01 00：00：00'GMT后的秒数的形式返回。date可以是一个DATE字符串，DATETIME字符串，TIMESTAMP或一个当地时间的YYMMDD或YYYYMMDD格式的数字。

**示例：**

```
mysql> SELECT UNIX_TIMESTAMP(),UNIX_TIMESTAMP(NOW()),NOW();
+------------------+-----------------------+---------------------+
| UNIX_TIMESTAMP() | UNIX_TIMESTAMP(NOW()) | NOW()               |
+------------------+-----------------------+---------------------+
|       1574302382 |            1574302382 | 2019-11-21 10:13:02 |
+------------------+-----------------------+---------------------+
```

FROM_UNIXTIME(date)函数把UNIX时间戳转换为普通格式的时间，与UNIX_TIMESTAMP(date)函数互为反函数。

**示例：**

```
mysql> SELECT FROM_UNIXTIME('1574302382');
+-----------------------------+
| FROM_UNIXTIME('1574302382') |
+-----------------------------+
| 2019-11-21 10:13:02.000000  |
+-----------------------------+
```
<br>

### 4.4 返回UTC日期的函数和返回UTC时间的函数

UTC_DATE()函数返回当前UTC(世界标准时间)日期值，其格式为'YYYY-MM-DD'或YYYYMMDD，具体格式取决于函数是否用在字符串或数字语境中。

UTC_TIME()返回当前UTC时间值，其格式为'HH：MM：SS'或HHMMSS，具体格式取决于函数是否在字符串或数字语境中。

**示例：**

```
mysql> SELECT UTC_DATE(),UTC_DATE()+0;
+------------+--------------+
| UTC_DATE() | UTC_DATE()+0 |
+------------+--------------+
| 2019-11-21 |     20191121 |
+------------+--------------+

mysql> SELECT UTC_TIME(),UTC_TIME()+0;
+------------+--------------+
| UTC_TIME() | UTC_TIME()+0 |
+------------+--------------+
| 02:22:18   |        22218 |
+------------+--------------+
```

<br>

### 4.5 获取月份的函数MONTH(date)和MONTHNAME(date)

MONTH(date)函数返回date对应的月份，范围值从1~12。

MONTHNAME(date)函数返回日期date对应月份的英文全名。

**示例：**

```
mysql> SELECT MONTH('2019-11-21'), MONTHNAME('2019-11-21');
+---------------------+-------------------------+
| MONTH('2019-11-21') | MONTHNAME('2019-11-21') |
+---------------------+-------------------------+
|                  11 | November                |
+---------------------+-------------------------+
```

<br>

### 4.6 获取星期的函数DAYNAME(d)，DAYOFWEEK(d)和WEEKDAY(d)

DAYNAME(d)函数返回d对应的工作日的英文名称。

DAYOFWEEK(d)函数返回日期对应的周索引。1-周日，2-周一，……，7-周六。

WEEKDAY(d)返回d对应的工作日索引。0-周一，1-周二，……，6-周日。

**示例：**

```
mysql> SELECT DAYNAME('2019-11-21'), DAYOFWEEK('2019-11-21'), WEEKDAY('2019-11-21'), WEEKDAY('2019-11-22 10:05:46');
+-----------------------+-------------------------+-----------------------+--------------------------------+
| DAYNAME('2019-11-21') | DAYOFWEEK('2019-11-21') | WEEKDAY('2019-11-21') | WEEKDAY('2019-11-22 10:05:46') |
+-----------------------+-------------------------+-----------------------+--------------------------------+
| Thursday              |                       5 |                     3 |                              4 |
+-----------------------+-------------------------+-----------------------+--------------------------------+
```

<br>

### 4.7 获取星期数的函数WEEK(d)和WEEKOFYEAR(d)

WEEK(d)计算日期d是一年中的第几周。WEEK()的双参数形式允许指定该星期是否起始于周日或周一，以及返回值的范围是否从0~53或1~53。模式Mode参数被省略，则使用default_week_format系统自变量的值。

**WEEK函数中Mode参数取值**

|Mode|一周的第一天&#160;&#160;&#160;&#160;|范围|Week1为第一周…|
|:---|:---|:---|:---|
|0(默认值)&#160;&#160;|周日|0~53&#160;&#160;&#160;&#160;|本年度中有一个周日&#160;&#160;&#160;&#160;|
|1|周一|0~53|本年度中有3天以上|
|2|周日|1~53|本年度中有一个周日|
|3|周一|1~53|本年度中有3天以上|
|4|周日|0~53|本年度中有3天以上|
|5|周一|0~53|本年度中有一个周一|
|6|周日|1~53|本年度中有3天以上|
|7|周一|1~53|本年度中有一个周一|

**示例：** 使用WEEK()函数查询指定日期是一年中的第几周

```
mysql> SELECT WEEK('2019-11-21'),WEEK('2019-11-21',0),WEEK('2019-11-21',1);
+--------------------+----------------------+----------------------+
| WEEK('2019-11-21') | WEEK('2019-11-21',0) | WEEK('2019-11-21',1) |
+--------------------+----------------------+----------------------+
|                 46 |                   46 |                   47 |
+--------------------+----------------------+----------------------+
```

WEEKOFYEAR(d)计算某天位于一年中的第几周，范围从1~53，相当于WEEK(d,3)。

**示例：** 使用WEEKOFYEAR()查询指定日期是一年中的第几周

```
mysql> SELECT WEEK('2011-02-20',3), WEEKOFYEAR('2011-02-20');
+----------------------+--------------------------+
| WEEK('2011-02-20',3) | WEEKOFYEAR('2011-02-20') |
+----------------------+--------------------------+
|                    7 |                        7 |
+----------------------+--------------------------+
```

<br>

### 4.9 获取年份，季度，小时，分钟和秒钟的函数

YEAR(date)返回date对应的年份，范围是1970~2069。

QUARTER(date)返回date对应的一年中的季度值，范围是从1~4。

MINUTE(time)返回time对应的分钟数，范围从0~59。

SECOND(time)返回time对应的秒数，范围从0~59。

**示例：**

```
mysql> SELECT YEAR('19-11-21'),YEAR('97-06-14');
+------------------+------------------+
| YEAR('19-11-21') | YEAR('97-06-14') |
+------------------+------------------+
|             2019 |             1997 |
+------------------+------------------+

mysql> SELECT QUARTER('16-04-01');
+---------------------+
| QUARTER('16-04-01') |
+---------------------+
|                   2 |
+---------------------+

mysql> SELECT MINUTE('16-02-03 10:10:10');
+-----------------------------+
| MINUTE('16-02-03 10:10:10') |
+-----------------------------+
|                          10 |
+-----------------------------+

mysql> SELECT SECOND('10:10:04');
+--------------------+
| SECOND('10:10:04') |
+--------------------+
|                  4 |
+--------------------+
```

#### 提示

YEAR()函数中，'00~69'转换为'2000~2069'，'70~99'转换为'1970~1999'！

<br>

### 4.10 获取日期的指定值的函数EXTRACT(type FROM date)

EXTRACT(type FROM date)函数所使用的时间间隔类型说明符同DATE_ADD()或DATE_SUB()的相同，但它从日期中提取一部分，而不是执行日期运算。

**示例：**

```
mysql> SELECT EXTRACT(YEAR FROM '2019-11-21') AS col1,
    -> EXTRACT(YEAR_MONTH FROM '2019-11-21 11:05:39') AS col2,
    -> EXTRACT(DAY_MINUTE FROM '2019-11-21 11:06:18') AS col3;
+------+--------+--------+
| col1 | col2   | col3   |
+------+--------+--------+
| 2019 | 201911 | 211106 |
+------+--------+--------+
```

type值为YEAR时，只返回年值，结果为2019；

type值为YEAR_MONTH时返回年与月份，结果为201911；

type值为DAY_MINUTE时，返回日，小时和分钟值，结果为211106；

<br>

### 4.11 时间和秒钟转换的函数

TIME_TO_SEC(time)返回已转化为秒的time参数。转换公式为：`小时*3600+分钟*60+秒`

SEC_TO_TIME(seconds)返回被转化为小时，分钟和秒数的second参数值，其格式为：'HH：MM：SS'或HHMMSS，具体格式根据函数是否在字符串或数字语境中而定。

**示例：**

```
mysql> SELECT TIME_TO_SEC('23:23:00');
+-------------------------+
| TIME_TO_SEC('23:23:00') |
+-------------------------+
|                   84180 |
+-------------------------+

mysql> SELECT SEC_TO_TIME(2345),SEC_TO_TIME(2345)+0,TIME_TO_SEC('23:23:00'),SEC_TO_TIME(84180);
+-------------------+---------------------+-------------------------+--------------------+
| SEC_TO_TIME(2345) | SEC_TO_TIME(2345)+0 | TIME_TO_SEC('23:23:00') | SEC_TO_TIME(84180) |
+-------------------+---------------------+-------------------------+--------------------+
| 00:39:05          |                3905 |                   84180 | 23:23:00           |
+-------------------+---------------------+-------------------------+--------------------+
```

<br>

### 4.12 计算日期和时间的函数

计算日期和时间的函数有：DATE_ADD()，ADDDATE()，DATE_SUB()，SUBDATE()，ADDTIME()，SUBTIME()和DATE_DIFF()。

**1.** DATE_ADD(date,INTERVAL expr type)和DATE_SUB(date,INTERVAL expr type)。

其中：
* date时一个DATETIME或DATE值，用来指定起始时间。
* expr是一个表达式，用来指定从起始日期添加或减去的时间间隔值。expr是一个字符串；对于负值的时间间隔，它可以从一个符号'-'开头。
* type为关键词，它指示了表达式被解释的方法。

**MySQL中计算日期和时间的格式**

|type值|预期的expr格式|
|:---|:---|
|MICROSECOND|MICROSECONDS|
|SECOND|SECONDS|
|MINUTE|MINUTES|
|HOUR|HOURS|
|DAY|DAYS|
|WEEK|WEEKS|
|MONTH|MONTHS|
|QUARTER|QUARTERS|
|YEAR|YEARS|
|SECOND_MICROSECOND&#160;&#160;&#160;&#160;&#160;&#160;|'SECONDS.MICROSECONDS'|
|MINUTE_MICROSECOND|'MINUTES.MICROSECONDS'|
|MINUTE_SECOND|'MINUTES：SECONDS'|
|HOUR_MICROSECOND|'HOURS.MICROSECONDS'|
|HOUR_SECOND|'HOURS：MINUTES：SECONDS'|
|HOUR_MINUTE|'HOURS：MINUTES'|
|DAY_MICROSECOND|'DAYS.MICROSECONDS'|
|DAY_SECOND|'DAYS HOURS：MINUTES：SECONDS'&#160;&#160;&#160;&#160;&#160;&#160;|
|DAY_MINUTE|'DAYS HOURS：MINUTES'|
|DAY_HOUR|'DAYS HOURS'|
|YEAR_MONTH|'YEARS-MONTHS'|

若date参数使一个DATE值，计算只会包括YEAR，MONTH和DAY部分（即没有时间部分），其结果就是一个DATE值。否则，结果将是一个DATETIME值。

DATE_ADD(type,INTERVAL expr type)和ADDDATE(date,INTERVAL expr type)两个函数作用相同，执行日期的加运算。

**示例：**

```
mysql> SELECT DATE_ADD('2010-12-31 23:59:59', INTERVAL 1 SECOND) AS col1,
    -> ADDDATE('2010-12-31 23:59:59', INTERVAL 1 SECOND) AS col2,
    -> DATE_ADD('2010-12-31 23:59:59', INTERVAL '1:1' MINUTE_SECOND) AS col3;
+---------------------+---------------------+---------------------+
| col1                | col2                | col3                |
+---------------------+---------------------+---------------------+
| 2011-01-01 00:00:00 | 2011-01-01 00:00:00 | 2011-01-01 00:01:00 |
+---------------------+---------------------+---------------------+
```

从结果可以看到，DATE('2010-12-31 23：59：59', INTERVAL 1 SECOND)和ADDDATE('2010-12-31 23：59：59', INTERVAL 1 SECOND)两个函数执行的结果是相同的，将时间增加一秒，返回的结果都是'2011-01-01 00：00：00'；DATE_ADD('2010-12-31 23：59：59', INTERVAL '1:1' MINUTE_SECOND)日期运算类属性是MINUTE_SECOND，将指定时间增加1分1秒后返回，结果为'2011-01-01 00：01：00'。

DATE_SUB(date, INTERVAL expr type)或者SUBDATE(date, INTERVAL expr type)两个函数作用相同，执行日期的减运算。

**示例：**

```
mysql> SELECT DATE_SUB('2011-01-02',INTERVAL 31 DAY) AS col1,
    -> SUBDATE('2010-01-02', INTERVAL 31 DAY) AS col2,
    -> DATE_SUB('2011-01-01 00:01:00',INTERVAL '0 0:1:1' DAY_SECOND) AS col3;
+------------+------------+---------------------+
| col1       | col2       | col3                |
+------------+------------+---------------------+
| 2010-12-02 | 2009-12-02 | 2010-12-31 23:59:59 |
+------------+------------+---------------------+
```

#### 提示：

DATE_ADD和DATE_SUB在指定修改的时间段时，也可以指定负值，负值代表相减，即返回以前的日期和时间。

ADDTIME(date,expr)函数将expr值添加到date，并返回修改后的值，date是一个日期或这日期时间表达式，expr是一个时间表达式。

SUBTIME(date,expr)函数中date减去expr值，并返回修改后的值，date是一个日期或者日期时间表达式，而expr是一个时间表达式。

**示例：**

```
mysql> SELECT ADDTIME('2000-12-31 23:59:59','1:1:1'),ADDTIME('02:02:02','02:00:00');
+----------------------------------------+--------------------------------+
| ADDTIME('2000-12-31 23:59:59','1:1:1') | ADDTIME('02:02:02','02:00:00') |
+----------------------------------------+--------------------------------+
| 2001-01-01 01:01:00                    | 04:02:02                       |
+----------------------------------------+--------------------------------+

mysql> SELECT SUBTIME('2000-12-31 23:59:59','1:1:1'), SUBTIME('02:02:02','02:00:00');
+----------------------------------------+--------------------------------+
| SUBTIME('2000-12-31 23:59:59','1:1:1') | SUBTIME('02:02:02','02:00:00') |
+----------------------------------------+--------------------------------+
| 2000-12-31 22:58:58                    | 00:02:02                       |
+----------------------------------------+--------------------------------+
```

DATEDIFF(date1,date2)返回起始时间date1和结束时间date2之间的天数。date1和date2为日期或date-and-time表达式。计算中只用到这些值的日期部分

**示例：**

```
mysql> SELECT DATEDIFF('2010-12-31 23:59:59','2010-12-30') AS col1,
    -> DATEDIFF('2010-11-30 23:59:59','2010-12-31') AS col2;
+------+------+
| col1 | col2 |
+------+------+
|    1 |  -31 |
+------+------+
```

DATEDIFF()函数返回date1-date2后的值，因此DATEDIFF('2010-12-31 23：59：59','2010-12-30')返回值为1；DATEDIFF('2010-11-30 23：59：59','2010-12-31')返回值为-31。

<br>

### 4.13 将日期和时间格式化的函数

DATE_FORMAT(date,format)根据format指定的格式显示date值。主要format格式如下表所示：

**DATE_FORMAT时间日期格式**

|说明符|说明|
|:---|:---|
|%a|工作日的缩写名称(Sun...Sat)|
|%b|月份的缩写名称(Jan...Dec)|
|%c|月份，数字形式(0...12)|
|%D|带有英语后缀的该月日期(0th,1st,2nd,3rd,...)|
|%d|该月日期，数字形式(00..31)|
|%e|该月日期，数字形式(0..31)|
|%f|微秒(000000..999999)|
|%H|以2位数表示24小时(00..23)|
|%h,%I|以2位数表示12小时(01..12)|
|%i|分钟，数字形式(00..59)|
|%j|一年中的天数(001..366)|
|%k|以24(0...23)小时表示时间|
|%l|以12(1...12)小时表示时间|
|%M|月份名称(January...December)|
|%m|月份，数字形式(01..12)|
|%p|上午(AM)或下午(PM)|
|%r|时间，12小时制(小时hh：分钟mm：秒数ss 后加AM或PM)|
|%S,%s&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|以2位数形式表示秒(00..59)|
|%T|时间，24小时制(小时hh：分钟mm：秒数ss)|
|%U|周(00..53)，其中周日为每周的第一天|
|%u|周(00..53)，其中周一为每周的第一天|
|%V|周(01..53)，其中周日为每周的第一天，和%X同时使用|
|%v|周(01..53)，其中周一为每周的第一天，和%x同时使用|
|%W|工作日名称(周日...周六)|
|%w|一周中的每日(0=周日，6=周六)|
|%X|该周的年份，其中周日为每周的第一天；数字形式，4位数；和%V同时使用|
|%x|该周的年份，其中周一为每周的第一天；数字形式，4位数，和%v同时使用&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|
|%Y|4位数形式表示年份|
|%y|2位数形式表示年份|
|%%|'%'文字字符|


**示例：**

```
mysql> SELECT DATE_FORMAT('1997-10-04 22:23:00','%W %M %Y') AS col1,
    -> DATE_FORMAT('1997-10-04','%D %y %a %d %m %b %j') AS col2;
+-----------------------+--------------------------+
| col1                  | col2                     |
+-----------------------+--------------------------+
| Saturday October 1997 | 4th 97 Sat 04 10 Oct 277 |
+-----------------------+--------------------------+

mysql> SELECT DATE_FORMAT('1997-10-04 22:23:00','%H:%i:%s') AS col3,
    -> DATE_FORMAT('1990-01-01','%X %V') AS col4;
+----------+---------+
| col3     | col4    |
+----------+---------+
| 22:23:00 | 1989 53 |
+----------+---------+
```

TIME_FORMAT(time,format)根据format字符串安排time值的格式。format字符串可能仅会处理包含小时，分钟和秒的格式说明符，其他说明符产生一个NULL值或0。若time值包含一个大于23的小时部分，则%H和%k小时格式说明符会产生一个大于0.23的通常范围的值。

**示例：**

```
mysql> SELECT TIME_FORMAT('16:00:00','%H %k %h %I %l');
+------------------------------------------+
| TIME_FORMAT('16:00:00','%H %k %h %I %l') |
+------------------------------------------+
| 16 16 04 04 4                            |
+------------------------------------------+
```

"16：00：00"按照不同的参数转换为不同格式的时间值。

GET_FORMAT(val_type,format_type)返回日期时间字符串的显示格式，val_type表示日期数据类型，包括DATE，DATETIME和TIME；format_type表示格式化显示类型，包括EUR，INTERVAL，ISO，JIS，USA。GET_FORMAT根据两个值类型组合返回的字符串显示格式如下表所示：

**GET_FORMAT返回的格式字符串**

|值类型|格式化类型|显示格式字符串|
|:---|:---|:---|
|DATE|EUR|%d.%m.%Y|
|DATE|INTERVAL|%Y%m%d|
|DATE|ISO|%Y-%m-%d|
|DATE|JIS|%Y-%m-%d|
|DATE|USA|%m.%d.%Y|
|TIME|EUR|%H.%i.%s|
|TIME|INTERVAL|%H%i%s|
|TIME|ISO|%H:%i:%s|
|TIME|JIS|%H:%i:%s|
|TIME|USA|%h:%i:%s%p|
|DATETIME|EUR|%Y-%m-%d %H.%i.%s|
|DATETIME|INTERVAL&#160;&#160;&#160;&#160;|%Y%m%d%H%i%s|
|DATETIME|ISO|%Y-%m-%d %H:%i:%s|
|DATETIME|JIS|%Y-%m-%d %H:%i:%s&#160;&#160;&#160;&#160;|
|DATETIME&#160;&#160;&#160;&#160;|USA|%Y-%m-%d %H.%i.%s|

**示例：**

```
mysql> SELECT GET_FORMAT(DATE,'EUR'),GET_FORMAT(DATE,'USA');
+------------------------+------------------------+
| GET_FORMAT(DATE,'EUR') | GET_FORMAT(DATE,'USA') |
+------------------------+------------------------+
| %d.%m.%Y               | %m.%d.%Y               |
+------------------------+------------------------+

mysql> SELECT DATE_FORMAT('2000-10-05 22:23:00',GET_FORMAT(DATE,'USA'));
+-----------------------------------------------------------+
| DATE_FORMAT('2000-10-05 22:23:00',GET_FORMAT(DATE,'USA')) |
+-----------------------------------------------------------+
| 10.05.2000                                                |
+-----------------------------------------------------------+
```

GET_FORMAT(DATE,'USA')返回的显示格式字符换为'%m.%d.%Y'，对照表DATE_FORMAT函数的显示格式，%m以数字形式显示月份，%d以数字形式显示日，%Y以4位数字显示年，因此结果位10.05.2000。

---






