# 数据类型和运算符

## 1.MySQL数据类型介绍

MySQL支持多种数据类型，主要有数值类型，日期/时间类型和字符串类型：
1. 数值数据类型：包括整数类型TINYINT,SMALLINT,MEDIUMINT,INT,BIGINT,浮点小数数据类型FLOAT和DOUBLE，定点小数类型DECIMAL；
2. 日期/时间类型：包括YEAR,TIME,DATE,DATETIME和TIMESTAMP；
3. 字符串类型：包括CHAR,VARCHAR,BINARY,VARBINARY,BLOB,TEXT,ENUM和SET等。字符串类型分为文本字符串和二进制字符串。

### 1.1 整数类型

数值型数据类型主要用来存储数字，MySQL提供了多种数据类型，不同的数据类型提供不同的取值范围，可以存储的值范围越大，其所需的存储空间就会越大。

MySQL主要提供的整数类型有：TINYINT，SMALLINT,MEDIUMINT,INT(INTEGER),BIGINT。整数类型的属性字段可以添加AUTO_INCREMENT自增约束条件。如表所示：

**MySQL中的整数型数据类型**

|类型名称|说明|存储需求|
|:---|:---|:---|
|TINYINT|很小的整数|1个字节|
|SMALLINT|小的整数|2个字节|
|MEDIUMINT|中等大小的整数|3个字节|
|INT(INTEGER)&#160;&#160;&#160;&#160;&#160;&#160;|普通大小的整数&#160;&#160;&#160;&#160;&#160;&#160;|4个字节&#160;&#160;&#160;&#160;&#160;&#160;|
|BIGINT|大整数|8个字节|

**不同整数类型的取值范围**

|数据类型|有符号|无符号|
|:---|:---|:---|
|TINYINT|-128~127|0~255|
|SMALLINT|-32768~32767|0~65535|
|MEDIUMINT|-8388608~8388607|0~16777215|
|INT(INTEGER)&#160;&#160;&#160;&#160;&#160;&#160;|-2147483648~2147483647|0~4294967295|
|BIGINT|-9223372036854775808~9223372036854775807&#160;&#160;&#160;&#160;|0~18446744073709551615&#160;&#160;&#160;&#160;|

在“数据表的基本操作”章节中，有如下创建表的语句：

```
mysql> create table tb_emp1
    -> (
    -> id INT(11),
    -> name VARCHAR(25),
    -> deptId INT(11),
    -> salary FLOAT
    -> );
```

id字段的数据类型为INT(11)，INT括号中的数字表示的是该数据类型指定的显示宽度，指能够显示的数值中数字的个数。

例如：声明一个INT类型的字段：

```
year INT(4)
```

该声明指，在year字段中的数据一般只显示4位数字的宽度。

**注意：** 显示宽度和数据类型的取值范围是无关的。显示宽度只是指明MySQL最大可能显示的数字个数，数值的位数小于指定的宽度时会由空格填充；如果插入了大于显示宽度的值，只该值不超过该类型整数的取值范围，数值依然可以插入，而且能够显示出来。

**示例：** 创建表tmp1，其字段x，y，z，m，n数据类型依次为TINYINT，SMALLINT，MEDIUMINT，INT，BIGINT：

```
mysql> CREATE TABLE tmp1 (x TINYINT, y SMALLINT, z MEDIUMINT, m INT, n BIGINT);
mysql> DESC tmp1;
+-------+--------------+------+-----+---------+-------+
| Field | Type         | Null | Key | Default | Extra |
+-------+--------------+------+-----+---------+-------+
| x     | tinyint(4)   | YES  |     | NULL    |       |
| y     | smallint(6)  | YES  |     | NULL    |       |
| z     | mediumint(9) | YES  |     | NULL    |       |
| m     | int(11)      | YES  |     | NULL    |       |
| n     | bigint(20)   | YES  |     | NULL    |       |
+-------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)
```

若没有无标明类型的显示宽度，系统将添加不同的默认宽度。这些默认宽度可以保证显示每一种数据类型可以取到范围内的所有值。

<br>

### 1.2 浮点数类型和定点数类型

MySQL中使用浮点数和定点数来表示小数。

浮点类型有两种：单精度浮点类型(FLOAT)和双精度浮点类型(DOUBLE)。

定点类型只有一种：DECIMAL。

浮点类型和定点类型都可以用(M,N)来表示，其中M称为精度，表示总共的位数；N称为标度，是表示小数的位数。

**MySQL中的小数类型**

|类型名称|说明|存储需求|
|:---|:---|:---|
|FLOAT|单精度浮点数|4个字节|
|DOUBLE|双精度浮点数|8个字节|
|DECIMAL(M,D),DEC&#160;&#160;&#160;&#160;|压缩的“严格”定点数&#160;&#160;&#160;&#160;|M+2个字节&#160;&#160;&#160;&#160;|

DECIMAL类型不同于FLOAT和DOUBLE，DECIMAL实际是以串存放的，DECIMAL可能的最大取值范围与DOUBLE一样，但其有效的取值范围由M和D的值决定。

**示例：** 创建表tmp2，其中字段x，y，z数据类型依次为FLOAT(5,1)，DOUBLE(5,1)和DECIMAL(5,1)，并向表中插入数据5.12，5.15和5.123：

```
mysql> CREATE TABLE tmp2 (x FLOAT(5,1), y DOUBLE(5,1), z DECIMAL(5,1));
Query OK, 0 rows affected, 2 warnings (0.14 sec)
mysql> INSERT INTO tmp2 VALUES(5.12, 5.15, 5.123);
Query OK, 1 row affected, 1 warning (0.06 sec)
```

插入数据时，MySQL会抛出一个警告信息，使用SHOW WARNINGS可以查看警告信息：

```
mysql> SHOW WARNINGS;
+-------+------+----------------------------------------+
| Level | Code | Message                                |
+-------+------+----------------------------------------+
| Note  | 1265 | Data truncated for column 'z' at row 1 |
+-------+------+----------------------------------------+
1 row in set (0.00 sec)
```

可以看到FLOAT和DOUBLE在进行四舍五入时并没有发出警告，但给出z字段数值被阶段的警告。查看结果：

```
mysql> SELECT * FROM tmp2;
+------+------+------+
| x    | y    | z    |
+------+------+------+
|  5.1 |  5.2 |  5.1 |
+------+------+------+
1 row in set (0.00 sec)
```
FLOAT和DOUBLE在不指定精度时，默认会按照实际的精度，DECIMAL若不指定精度，默认是(10,0)。

**浮点数相对与定点数的优点在于在长度一定的情况下，浮点数能够表示更大的数据范围；但缺点是会引发精度问题**

#### 提示

在MySQL中，定点数以字符串形式存储，在对精度要求比较高的时候（如货币，科学数据等）使用DECIMAL的类型比较好，另外两个浮点数进行减法和比较运算时也容易出问题，所以在使用浮点型时需要注意，并尽量避免做浮点比较。

<br>

### 1.3 日期与时间类型

MySQL中有多种表示日期的数据类型，主要有：DATETIME，DATE，TIMESTAMP，TIME和YEAR。每一个类型都会有合法的取值范围，当指定确实不合法的值时系统将“零”值插入到数据库中。

**日期与实践数据类型**

|类型名称|日期格式|日期范围|存储需求|
|:---|:---|:---|:---|
|YEAR|YYYY|1901~2155|1字节|
|TIME|HH：MM：SS|-835：59：59~838：59：59|3字节|
|DATE|YYYY-MM-DD|1000-01-01~9999-12-31|3字节|
|DATETIME|YYYY-MM-DD HH：MM：SS|1000-01-01 00：00：00~9999-12-31 23：59：59|8字节|
|TIMESTAMP&#160;&#160;|YYYY-MM-DD HH：MM：SS&#160;&#160;|1970-01-01 00：00：01 UTC~2038-01-19 03：14：07 UTC&#160;&#160;|4字节&#160;&#160;&#160;&#160;|

<br>

**1. YEAR**

YEAR类型是一个单字节类型用来表示年，在存储时只需要1个字节。可以使用各种形式指定YEAR值，如下：

1. 以4位字符串或者4位数字格式表示的YEAR，范围为‘1901’~‘2155’。输入格式为‘YYYY’或YYYY。
2. 以2位字符串格式表示YEAR，范围为‘00’到‘99’。‘00’~‘69’和‘70’~‘99’范围的值分别被转换为2000~2069和1970~1999范围的YEAR值。
3. 以2位数字表示YEAR，范围位1~99.1~69和70~99范围的值分别被转换位2001~2069和1970~1999范围的YEAR值。注意：这里的0值将被转换位0000，而不是2000。

**示例1：** 创建数据表tmp3，定义数据类型位YEAR的字段y，向表中插入值2010，‘2010’，‘2166’

```
mysql> CREATE TABLE tmp3(y YEAR);
Query OK, 0 rows affected (0.13 sec)

mysql> INSERT INTO tmp3 VALUES(2010), ('2010');
Query OK, 2 rows affected (0.05 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO tmp3 VALUES('2166');
ERROR 1264 (22003): Out of range value for column 'y' at row 1
mysql> SHOW WARNINGS;
+-------+------+--------------------------------------------+
| Level | Code | Message                                    |
+-------+------+--------------------------------------------+
| Error | 1264 | Out of range value for column 'y' at row 1 |
+-------+------+--------------------------------------------+
1 row in set (0.00 sec)
```

可以看到，插入第3个值2166超过了YEAR类型的取值范围，因此不能正常的执行插入操作。

```
mysql> SELECT * FROM tmp3;
+------+
| y    |
+------+
| 2010 |
| 2010 |
+------+
```

**示例2：** 向tmp3表中y字段插入2个字符串表示的YEAR值，分别位‘0’，‘00’，‘77’和‘10’

```
mysql> DELETE FROM tmp3;
Query OK, 2 rows affected (0.05 sec)

mysql> INSERT INTO tmp3 VALUES('0'),('00'),('77'),('10');
Query OK, 4 rows affected (0.05 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp3;
+------+
| y    |
+------+
| 2000 |
| 2000 |
| 1977 |
| 2010 |
+------+
```

**示例3：** 向tmp3表中y字段插入2位数字表示的YEAR值，分别位0，78和11

```
mysql> DELETE FROM tmp3;
Query OK, 4 rows affected (0.05 sec)

mysql> INSERT INTO tmp3 VALUES (0),(78),(11);
Query OK, 3 rows affected (0.05 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp3;
+------+
| y    |
+------+
| 0000 |
| 1978 |
| 2011 |
+------+
```

<br>

**2. TIME**

TIME类型用于只需要时间信息的值，在存储时需要3个字节。格式位'HH：MM：SS'。HH表示小时；MM表示分钟；SS表示秒。小时部分之所以那么大，是因为TIME类型不仅可以用于表示一天的时间（必须小于24小时），还可能是某个事件过去的时间或两个时间之间的时间间隔。

可以使用各种格式指定TIME值：
1. ‘D HH：MM：SS’格式的字符串。还可以使用下面任何一种“非严格”的语法：‘HH：MM：SS’，‘HH：MM’，‘D HH：MM’，‘D HH'或’SS'。这里的D表示日，可以取0~34之间的值。在插入数据库时，D被转换为小时保存，格式为“D*24+HH”。
2. ‘HHMMSS’格式的，没有间隔符的字符串或者HHMMSS格式的值，假定是有意义的时间。

#### 提示

为TIME列分配简写值时应注意：如果没有冒号，MySQL解释值时，假定最后边的两位表示秒！

**示例1：** 创建数据表tmp4，定义数据类型为TIME的字段，向表中插入‘10：05：05’，‘23：23’，‘2 10：10’，‘3 02’，‘10’

```
mysql> CREATE TABLE tmp4(t TIME);
Query OK, 0 rows affected (0.13 sec)

mysql> INSERT INTO tmp4 VALUES('10:05:05'),('23:23'),('2 10:10'),('3 02'),('10');
Query OK, 5 rows affected (0.01 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp4;
+----------+
| t        |
+----------+
| 10:05:05 |
| 23:23:00 |
| 58:10:00 |
| 74:00:00 |
| 00:00:10 |
+----------+
```

**示例2：** 向表tmp4中插入值‘101112’，111213，‘0’，107010

```
mysql> DELETE FROM tmp4;
Query OK, 5 rows affected (0.00 sec)

mysql> INSERT INTO tmp4 VALUES('101112'),(111213),('0');
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> INSERT INTO tmp4 VALUES(107010);
ERROR 1292 (22007): Incorrect time value: '107010' for column 't' at row 1
mysql> SHOW WARNINGS;
+-------+------+--------------------------------------------------------+
| Level | Code | Message                                                |
+-------+------+--------------------------------------------------------+
| Error | 1292 | Incorrect time value: '107010' for column 't' at row 1 |
+-------+------+--------------------------------------------------------+
1 row in set (0.00 sec)

mysql> SELECT * FROM tmp4;
+----------+
| t        |
+----------+
| 10:11:12 |
| 11:12:13 |
| 00:00:00 |
+----------+
```

**示例3：** 向tmp4表中插入系统当前时间

```
mysql> DELETE FROM tmp4;
Query OK, 3 rows affected (0.05 sec)

mysql> INSERT INTO tmp4 VALUES (CURRENT_TIME),(NOW());
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp4;
+----------+
| t        |
+----------+
| 14:11:37 |
| 14:11:37 |
+----------+
```

<br>

**3. DATE类型**

DATE类型用在仅需要日期值时，没有时间部分，在存储时需要3个字节。日期格式为‘YYYY-MM-DD’，其中YYYY表示年；MM表示月；DD表示日。

在给DATE类型的字段赋值时，可以使用字符串类型或者数字类型的数据插入，只要DATE的日期格式即可：
1. 以‘YYYY-MM-DD’或者‘YYYYMMDD’字符串格式表示的日期，取值范围为‘1000-01-01’~‘9999-12-31’。
2. 以‘YY-MM-DD’或者‘YYMMDD’字符串格式表示的日期，在这里YY表示两位的年值。
3. 以YY-MM-DD或者YYMMDD数字格式表示的日期。
4. 使用CURRENT_DATE或者NOW()，插入当前系统日期。

**示例1：** 创建数据表tmp5，定义数据类型为DATE的字段d，向表中插入“YYYY-MM-DD”和“YYYYMMDD”字符串格式日期

```
mysql> CREATE TABLE tmp5 (d DATE);
Query OK, 0 rows affected (0.04 sec)

mysql> INSERT INTO tmp5 VALUES ('1998-08-08'),('19980808'),('20101010');
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp5;
+------------+
| d          |
+------------+
| 1998-08-08 |
| 1998-08-08 |
| 2010-10-10 |
+------------+
```

**示例2：** 向tmp5表中插入“YY-MM-DD"和“YYMMDD”字符串格式的日期

```
mysql> DELETE FROM tmp5;
Query OK, 3 rows affected (0.01 sec)

mysql> INSERT INTO tmp5 VALUES ('99-09-09'),('990909'),('000101'),('111111');
Query OK, 4 rows affected (0.00 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp5;
+------------+
| d          |
+------------+
| 1999-09-09 |
| 1999-09-09 |
| 2000-01-01 |
| 2011-11-11 |
+------------+
```

**示例3：** 向tmp5表中插入YY-MM-DD和YYMMDD数字格式日期

```
mysql> DELETE FROM tmp5;
Query OK, 3 rows affected (0.01 sec)

mysql> INSERT INTO tmp5 VALUES (990909),( 000101),( 111111);
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp5;
+------------+
| d          |
+------------+
| 1999-09-09 |
| 2000-01-01 |
| 2011-11-11 |
+------------+
```

**示例4：** 向tmp5表中插入系统当前日期

```
mysql> DELETE FROM tmp5;
Query OK, 3 rows affected (0.01 sec)

mysql> INSERT INTO tmp5 VALUES (CURRENT_DATE()),(NOW());
Query OK, 2 rows affected, 1 warning (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 1

mysql> SELECT * FROM tmp5;
+------------+
| d          |
+------------+
| 2019-11-18 |
| 2019-11-18 |
+------------+
```

CURRENT_DATE只返回当前日期，不包括时间部分；NOW()函数返回日期和时间值，在保存到数据库时，只保留了其日期部分。

**4. DATETIME**

DATETIME类型用在需要同时包含日期和时间信息的值，在存储时需要8个字节。日期格式为‘YYYY-MM-DD HH：MM：SS’。

其中：

* YYYY表示年；
* MM表示月；
* DD表示日；
* HH表示小时；
* MM表示分钟；
* SS表示秒；

在给DATETIME类型的字段赋值时，可以使用字符串类型或数字类型的数据插入，只要符合DATETIME的日期格式即可，如：
1. 以‘YYYY-MM-DD HH：MM：SS’或者‘YYYYMMDDHHMMSS’字符串格式表示的值，取值范围为‘1000-01-01 00：00：00’~‘9999-12-31 23：59：59’。
2. 以‘YY-MM-DD HH：MM：SS’或者‘YYMMDDHHMMSS’字符串格式表示的日期，这里YY表示两位的年值。
3. 以YYYYMMDDHHMMSS或者YYMMDDHHMMSS数字格式表示的日期和时间。

**示例1：** 创建数据表tmp6，定义数据类型为DATETIME的字段dt，向表中插入“YYYY-MM-DD HH：MM：SS”和“YYYYMMDDHHMMSS”字符串格式的日期和时间值

```
mysql> CREATE TABLE tmp6 (dt DATETIME);
Query OK, 0 rows affected (0.14 sec)

mysql> INSERT INTO tmp6 VALUES ('1998-08-08 08:08:08'),('19980808080808'),('20101010101010');
Query OK, 3 rows affected (0.06 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp6;
+---------------------+
| dt                  |
+---------------------+
| 1998-08-08 08:08:08 |
| 1998-08-08 08:08:08 |
| 2010-10-10 10:10:10 |
+---------------------+
```

**示例2：** 向tmp6表中插入“YY-MM-DD HH：MM：SS”和“YYMMDDHHMMSS”字符串格式日期值和时间值

```
mysql> DELETE FROM tmp6;
Query OK, 3 rows affected (0.05 sec)

mysql> INSERT INTO tmp6 VALUES ('99-09-09 09:09:09'),('990909090909'),('101010101010');
Query OK, 3 rows affected (0.05 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp6;
+---------------------+
| dt                  |
+---------------------+
| 1999-09-09 09:09:09 |
| 1999-09-09 09:09:09 |
| 2010-10-10 10:10:10 |
+---------------------+
```

**示例3：** 向tmp6表中插入YYYYMMDDHHMMSS和YYMMDDHHMMSS数字格式日期和时间值

```
mysql> DELETE FROM tmp6;
Query OK, 3 rows affected (0.05 sec)

mysql> INSERT INTO tmp6 VALUES (19990909090909),(101010101010);
Query OK, 2 rows affected (0.05 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp6;
+---------------------+
| dt                  |
+---------------------+
| 1999-09-09 09:09:09 |
| 2010-10-10 10:10:10 |
+---------------------+
```

**示例4：** 向tmp6表中插入系统当前日期和时间值

```
mysql> DELETE FROM tmp6;
Query OK, 2 rows affected (0.05 sec)

mysql> INSERT INTO tmp6 VALUES (NOW());
Query OK, 1 row affected (0.05 sec)

mysql> SELECT * FROM tmp6;
+---------------------+
| dt                  |
+---------------------+
| 2019-11-18 21:58:51 |
+---------------------+
```

NOW()函数返回当前系统的日期和时间，格式为“YYYY-MM-DD HH：MM：SS”

**5. TIMESTAMP**

TIMESTAMP是显示格式与DATETIME相同，显示宽度固定在19个字符，日期格式为YYYY-MM-DD HH：MM：SS，在存储时需要4个字节。

但是TIMESTAMP列的取值范围小于DATETIME的取值范围，为‘1970-01-01 00：00：01’ UTC ~ ‘2038-01-19 03：14：07’ UTC，其中UTC为时间标准时间

**示例1：** 创建数据表tmp7，定义数据类型为TIMESTAMP的字段ts，向表中插入值‘19950101010101’，‘950505050505’，‘1996-02-02 02：02：02’，‘97@03@03@03@03@03’，121212121212，NOW()

```
mysql> CREATE TABLE tmp7 (ts TIMESTAMP);
Query OK, 0 rows affected (0.14 sec)

mysql> INSERT INTO tmp7 VALUES ('19950101010101'),('950505050505'),('1996-02-02 02:02:02'),('97@03@03@03@03@03'),(121212121212),(NOW());
Query OK, 6 rows affected (0.07 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM tmp7;
+---------------------+
| ts                  |
+---------------------+
| 1995-01-01 01:01:01 |
| 1995-05-05 05:05:05 |
| 1996-02-02 02:02:02 |
| 1997-03-03 03:03:03 |
| 2012-12-12 12:12:12 |
| 2019-11-18 23:05:52 |
+---------------------+
```

#### 提示

TIMESTAMP与DATETIME除了在存储字节和支持的范围不同外，还有一个最大的区别就是：

* DATETIME在存储日期数据时，按实际输入的格式存储，与时间无关；
* TIMESTAMP值的存储是以UTC(世界标准时间)格式保存的，存储时对当前时区进行转换，检索时再转换回当前时区。

**示例2：** 向tmp7表中插入当前日期，查看插入值，更改时区为东10区

```
mysql> DELETE FROM tmp7;
Query OK, 6 rows affected (0.05 sec)

mysql> INSERT INTO tmp7 VALUES (NOW());
Query OK, 1 row affected (0.05 sec)

mysql> SELECT * FROM tmp7;
+---------------------+
| ts                  |
+---------------------+
| 2019-11-18 23:08:19 |
+---------------------+

mysql> SET TIME_ZONE='+10:00';
Query OK, 0 rows affected (0.06 sec)

mysql> SELECT * FROM tmp7;
+---------------------+
| ts                  |
+---------------------+
| 2019-11-19 01:08:19 |
+---------------------+
```

可以看到，因为东十区时间比东八区快2个小时，因此查询的结果经过时区转换之后，显示的值增加了2个小时。

---

### 1.4 文本字符串类型

字符串类型用来存储字符串数据，除了可以存储字符串数据之外，还可以存储其他数据。MySQL支持两类字符型数据：文本字符串和二进制字符串。

MySQL中文本字符串类型指CHAR，VARCHAR，TEXT，ENUM和SET。

**MySQL中文本字符串数据类型**

|类型名称|说明|存储需求|
|:---|:---|:---|
|CHAR(M)|固定长度非二进制字符串|M字节，1<=M<=255|
|VARCHAR(M)&#160;&#160;&#160;&#160;|变长非二进制字符串|L+1字节，L<=M和1<=M<=255|
|TINYTEXT|非常小的非二进制字符串|L+1字节，L<2^8|
|TEXT|小的非二进制字符串|L+2字节，L<2^16|
|MEDIUMTEXT|中等大小的非二进制字符串|L+3字节，L<2^24|
|LONGTEXT|大的非二进制字符串|L+4字节，L<2^32|
|ENUM|枚举类型，只能由一个枚举字符串值|1或2个字节，取决于枚举值的数目(最大65635)|
|SET|一个设置，字符串对象可以由零个或多个SET成员&#160;&#160;&#160;&#160;|1，2，3，4或8个字节，取决于集合成员的数量(最多64个成员)&#160;&#160;&#160;&#160;|

<br>

**1. CHAR和VARCHAR类型**

CHAR(M)为固定长度字符串，在定义时指定字符串列长。当保存时在右侧填充空格以达到指定的长度。M表示列长度，M的范围是0~255个字符。当检索到CHAR值时，尾部的空格将被删除。

VARCHAR(M)是长度可变的字符串，M表示最大列长度，M的范围是0~65535。VARCHAR的最大实际长度由最长的行的大小和使用的字符集确定，而实际占用的空间为字符串的实际长度加1。

**示例1：** 将不同的字符串保存到CAHR(4)和VARCHAR(4)列，说明CHAR(4)和VARCHAR(4)之间的差别

**CHAR(4)与VARCHAR(4)存储区别**

|插入值|CHAR(4)|存储需求|VARCHAR(4)|存储需求|
|:---|:---|:---|:---|:---|
|''|'&#160;&#160;&#160;&#160;'|4个字节|''|1个字节|
|'ab'|'ab&#160;&#160;'|4个字节|'ab'|3个字节|
|'abc'|'abc '|4个字节|'abc'|4个字节|
|'abcd'|'abcd'|4个字节|'abcd'|5个字节|
|'abcdef'&#160;&#160;|'abcd'|4个字节&#160;&#160;|'abcd'|5个字节&#160;&#160;|

**示例2：** 创建tmp8表，定义字段ch和vch数据类型依次为CHAR(4)和VARCHAR(4)，向表中插入数据'ab&#160;&#160;'

```
mysql> CREATE TABLE tmp8 (ch CHAR(4), vch VARCHAR(4));
Query OK, 0 rows affected (0.13 sec)

mysql> INSERT INTO tmp8 VALUES('ab  ','ab  ');
Query OK, 1 row affected (0.06 sec)

mysql> SELECT concat('(',ch,')'), concat('(',vch,')') FROM tmp8;
+--------------------+---------------------+
| concat('(',ch,')') | concat('(',vch,')') |
+--------------------+---------------------+
| (ab)               | (ab  )              |
+--------------------+---------------------+
```

从查询结果中可以看到，ch保存'ab&#160;&#160;'时将末尾的两个空格删除了，而vch字段保留了末尾的两个空格。

<br>

**2. TEXT类型**

TEXT列保存非二进制字符串。当保存或查询TEXT列的值时，不删除尾部空格。TEXT类型分为4种：TINYTEXT，TEXT，MEDIUMTEXT和LONGTEXT。不同类型的TEXT类型的存储空间和数据长度不同。

<br>

**3. ENUM类型**

ENUM是一个字符串对象，其值为表创建时在列规定中枚举的一列值。

语法格式为：

`字段名 ENUM('值1','值2',...,'值n')`

字段名指将要定义的字段，值n指枚举列表中的第n个值。ENUM类型的字段在取值时，只能在指定的枚举列表中取，而且一次只能取一个。若创建枚举值均有一个索引值：列表值所允许的成员从1开始编号，MySQL存储的就是这个索引编号。枚举最多可以有65535个元素。

例如定义ENUM类型的列('first','second','third')，该列可以取的值和每个值的索引如下所示：

|值|索引|
|:---|:---|
|NULL|NULL&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|
|"|0|
|first|1|
|second&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|2|
|third|3|

ENUM值依照列索引顺序排序，并且空字符串排在非空字符串前，NULL值排在其他所有枚举值之前。

**示例1：** 创建tmp9，并向其中插入值

```
mysql> CREATE TABLE tmp9 (enum ENUM('first','second','third'));
Query OK, 0 rows affected (0.09 sec)

mysql> INSERT INTO tmp9 VALUES ('first'),('second'),('third'),(NULL);
Query OK, 4 rows affected (0.05 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> SELECT enum, enum+0 FROM tmp9;
+--------+--------+
| enum   | enum+0 |
+--------+--------+
| first  |      1 |
| second |      2 |
| third  |      3 |
| NULL   |   NULL |
+--------+--------+
```

ENUM列总有一个默认值。如果将ENUM列声明为NULL，NULL值则为该列的一个有效值，并且默认值为NULL。如果ENUM列被声明为NOT NULL，其默认值为允许的值列表的第一个元素。

**示例2：** 创建表tmp10，定义INT类型的soc字段，ENUM类型的字段level，列表值为('excellent','good','bad')，向表tmp10中插入'good'，1，2，3，'best'

```
mysql> CREATE TABLE tmp10 (soc INT, level enum('excellent','good','bad'));
Query OK, 0 rows affected (0.05 sec)

mysql> INSERT INTO tmp10 VALUES (70, 'good'),(90,1),(75,2),(50,3);
Query OK, 4 rows affected (0.01 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> INSERT INTO tmp10 VALUES (100,'best');
ERROR 1265 (01000): Data truncated for column 'level' at row 1
```

**因为字符串'best'不在ENUM列表中，所以数据进行了阻止插入操作**

查询结果：

```
mysql> SELECT * FROM tmp10;
+------+-----------+
| soc  | level     |
+------+-----------+
|   70 | good      |
|   90 | excellent |
|   75 | good      |
|   50 | bad       |
+------+-----------+
```

由于结果可以看到，因为ENUM列表中的值在MySQL中都是以编号序列存储的，因此插入列表中的值'good'或者插入其对应序号'2'的结果时相同的；'best'不是列表中的值，因此不能插入数据。

<br>

**4. SET类型**

SET是一个字符串对象，可以有零个或多个值，SET列最多可以有64个成员，其值为表创建时规定的一个列值。指定包括多个SET成员的SET列值是，各成员之间用逗号(,)分隔开。

语法格式如下：

`SET('值1','值2',...,'值n')`

与ENUM类型相同，SET值在内部用整数表示，列表中每一个值都有一个索引编号。当创建表时，SET成员值的尾部空格将自动被删除。

但与ENUM类型不同的是，ENUM类型的字段只能从定义的列值中选择一个插入，而SET类型的列可以从定义的列值中选择多个字符的联合。

若插入SET字段中的列值有重复，则MySQL自动删除重复的值；插入SET字段的值顺序并不重要，MySQL会在存入数据库时，按照定义的顺序显示；若插入了不正确的值，默认情况下，MySQL将忽略这些值，并给出警告。

**示例1：** 创建表tmp11，定义SET类型的字段s，取值列表为('a','b','c','d')，插入数据('a'),('a,b,a'),('c,a,d'),('a,x,b,y')

```
mysql> CREATE TABLE tmp11 (s SET('a','b','c','d'));
Query OK, 0 rows affected (0.03 sec)

mysql> INSERT INTO tmp11 VALUES ('a'),('a,b,a'),('c,a,d');
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> INSERT INTO tmp11 VALUES ('a,x,b,y');
ERROR 1265 (01000): Data truncated for column 's' at row 1
```

由于插入了SET列不支持的值，因此MySQL抛出错误

查询结果

```
mysql> SELECT * FROM tmp11;
+-------+
| s     |
+-------+
| a     |
| a,b   |
| a,c,d |
+-------+
```

从结果可以看出:
* 对于SET来说如果插入的值为重复的，则只取一个，例如'a,b,a'结果为'a,b'；
* 若插入了不按顺序排列值，则自动按顺序插入，例如'c,a,d'结果为'a,c,d'；
* 若插入了不正确的值，该值将被阻止插入，例如'a,x,b,y'；

**5. 二进制字符串类型**

MySQL中的二进制数据类型有：BIT，BINARY，VARBINARY，TINYBLOB，BLOB，MEDIUMBLOB和LONGBLOB。

**MySQL中的二进制字符串类型**

|类型名称|说明|存储需求|
|:---|:---|:---|
|BIT(M)|位字段类型|大约(M+7)/8个字节|
|BINARY(M)|固定长度二进制字符串|M个字节|
|VARBINARY(M)|可变长度二进制字符串&#160;&#160;&#160;&#160;|M+1个字节|
|TINYBLOB(M)|非常小的BLOB|L+1个字节，L<2^8|
|BLOB(M)|小BLOB|L+2个字节，L<2^16|
|MEDIUMBLOB(M)&#160;&#160;&#160;&#160;|中等大小BLOB|L+3个字节，L<2^24|
|LONGBLOB(M)|非常大的BLOB|L+4个字节，L<2^32&#160;&#160;&#160;&#160;|

<br>

**1. BIT类型**

BIT类型是位字段类型。M表示每个值的位数，范围为1~64。若M被省略，默认是1。若BIT(M)列分配的值的长度小于M位，在值***左边***用0填充。

**示例：** 创建表tmp12，定义BIT(4)类型的字段b，向表中插入数据2，9，15

```
mysql> CREATE TABLE tmp12 (b BIT(4));
Query OK, 0 rows affected (0.13 sec)

mysql> INSERT INTO tmp12 VALUES(2),(9),(15);
Query OK, 3 rows affected (0.05 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> SELECT BIN(b+0) FROM tmp12;
+----------+
| BIN(b+0) |
+----------+
| 10       |
| 1001     |
| 1111     |
+----------+
```

**b+0**表示将二进制的结果转换为对应的数字的值，**BIN()**函数将数字转换为二进制。

<br>

**2. BINARY和VARBINARY类型**

BINARY和VARBINARY类型类似于CHAR和VARCHAR，不同的是它们包含二进制字节字符串。

语法格式为：`列名称 BINARY(M) / VARBINARY(M)`

BINARY类型的长度是固定的，指定长度之后，不足最大长度的，将在它们的右边填充'\0'补齐以达到指定长度。

VARBINARY类型的长度是可变的，指定好长度之后，其长度可以在0到最大值之间，实际占用的空间为字符串的实际长度加1。

**示例：** 创建表tmp13，定义BINARY(3)类型的字段b和VARBINARY(3)类型的字段vb，并向表中插入数据'5'

```
mysql> CREATE TABLE tmp13 (b BINARY(3), vb VARBINARY(3));
Query OK, 0 rows affected (0.13 sec)

mysql> INSERT INTO tmp13 VALUES(5, 5);
Query OK, 1 row affected (0.05 sec)

mysql> SELECT length(b), length(vb) FROM tmp13;
+-----------+------------+
| length(b) | length(vb) |
+-----------+------------+
|         3 |          1 |
+-----------+------------+
```

进一步确认'5'在两个字段中不同的存储方式：

```
mysql> SELECT b,vb,b='5',b='5\0\0',vb='5\0\0' FROM tmp13;
+------+------+-------+-----------+------------+
| b    | vb   | b='5' | b='5\0\0' | vb='5\0\0' |
+------+------+-------+-----------+------------+
| 5    | 5    |     0 |         1 |          0 |
+------+------+-------+-----------+------------+
```

执行结果可以看出，b字段和vb字段的长度是截然不同的，因为b字段不足的空间田中了'\0'，而vb字段没有填充。

<br>

**3. BLOB类型**

BLOB是一个二进制大对象，用来存储可变数量的数据。BLOB类型分为4种：TINYBLOB，BLOB，MEDIUMBLOB和LONGBLOB，它们可以容纳值的最大长度不同。

BLOB列存储的是二进制字符串（字节字符串）；TEXT列存储的是非二进制字符串（字符字符串）。BLOB列没有任何字符集，并且排序和比较基于列值的数值；TEXT列有一个字符集，并且根据字符集对值进行排序和比较。

---


## 3.常见运算介绍

### 3.1 运算符概述

MySQL内部运算符主要有四大类：
* 算术运算符；
* 比较运算符；
* 逻辑运算符；
* 位操作运算符；

---

### 3.2 算术运算符

算术运算符是SQL中最基本的运算符，MySQL运算符如下表所示：

**MySQL中的算术运算符**

|运算符&#160;&#160;&#160;&#160;|作用|
|:---|:---|
|+|加法运算|
|-|减法运算|
|*|乘法运算|
|/|除法运算，返回商|
|%|求余运算，返回余数&#160;&#160;&#160;&#160;|

**示例1：** 创建tmp14，定义数据类型为INT的字段num，插入值64，对num值进行算数运算

```
mysql> CREATE TABLE tmp14 (num INT);
Query OK, 0 rows affected (0.11 sec)

mysql> INSERT INTO tmp14 VALUES (64);
Query OK, 1 row affected (0.05 sec)

mysql> SELECT num, num+10, num-3+5, num+5-3, num+36.5 FROM tmp14;
+------+--------+---------+---------+----------+
| num  | num+10 | num-3+5 | num+5-3 | num+36.5 |
+------+--------+---------+---------+----------+
|   64 |     74 |      66 |      66 |    100.5 |
+------+--------+---------+---------+----------+
```

可以看到，可以对num字段的值进行假发和减法的运算，而且由'+'和'-'的优先级相同。

**示例2：** 对tmp14表中的num进行乘法，除法运算

```
mysql> SELECT num, num*2, num/2, num/3, num%3 FROM tmp14;
+------+-------+---------+---------+-------+
| num  | num*2 | num/2   | num/3   | num%3 |
+------+-------+---------+---------+-------+
|   64 |   128 | 32.0000 | 21.3333 |     1 |
+------+-------+---------+---------+-------+
```

由计算结果可以看到，对num进行除法运算时候，由于64无法被3整除，因此MySQL对num/3求商的结果保存到了小数点后四位，为21.3333。

在数学运算中，除数为0的除法是没有意义的，因此除法运算中的除数不能为0。若被0除，则结果返回NULL。

**示例3：** 用0除num

```
mysql> SELECT num, num/0, num%0 FROM tmp14;s
+------+-------+-------+
| num  | num/0 | num%0 |
+------+-------+-------+
|   64 |  NULL |  NULL |
+------+-------+-------+
```

---

### 3.3 比较运算符

一个比较运算符的结果总是1，0或者NULL，比较运算符经常在SELECT的查询条件字句中使用，用来查询满足指定条件的记录。

**MySQL中的比较运算符**

|运算符|作用|
|:---|:---|
|=|等于|
|<=>|安全的等于|
|<>(!=)|不等于|
|<=|小于等于|
|>=|大于等于|
|>|大于|
|IS NULL|判断一个值是否为NULL|
|IS NOT NULL&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|判断一个值是否不为NULL|
|LEAST|在有两个或多个参数时，返回最小值|
|GREATEST|在有两个或多个参数是，返回最大值|
|BETWEEN AND|判断一个值是否落在两个值之间|
|ISNULL|与IS NULL作用相同|
|IN|判断一个值是IN列表中的任意一个值|
|NOT IN|判断一个值不是IN列表中的任意一个值&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|
|LIKE|通配符匹配|
|REGEXP|正则表达式匹配|

<br>

**1. 等于运算符(=)**

等号(=)用来判断数字，字符串和表达式是否相等。如果相等，返回值为1，否则返回0。

**示例：** 使用'='进行相等判断

```
mysql> SELECT 1=0, '2'=2, 2=2, '0.02'=0,'b'='b', (1+3)=(2+2), NULL=NULL;
+-----+-------+-----+----------+---------+-------------+-----------+
| 1=0 | '2'=2 | 2=2 | '0.02'=0 | 'b'='b' | (1+3)=(2+2) | NULL=NULL |
+-----+-------+-----+----------+---------+-------------+-----------+
|   0 |     1 |   1 |        0 |       1 |           1 |      NULL |
+-----+-------+-----+----------+---------+-------------+-----------+
```

在进行判断时，2=2和'2'=2'都返回相同，都是1；MySQL自动进行了转换，把字符'2'转换成数字2；'b'='b'为相同的字符比较，因此返回值为1；表达式1+3和表达式2+2的结果都为4，因此相等，返回值1；由于'='不能用于空值NULL的判断，因此返回值为NULL。

数值比较时有如下规则：
1. 若有一个或两个参数为NULL，则比较运算的结果为NULL；
2. 若同一个比较运算中的两个参数都是字符串，则按照字符串进行比较；
3. 若两个参数均为整数，则按照整数进行比较；
4. 若一个字符串和数字进行相等判断，则MySQL可以自动将字符串转换为数字；

<br>

**2. 安全等于运算符(<=>)**

这个操作符和=操作符执行相同的比较操作，不过<=>可以用来判断NULL值。在连个操作均为NULL时，其返回值为1不为NULL；当一个操作数位NULL时，其返回值为0而不为NULL。

**示例：** 使用'<=>'进行相等的判断

```
mysql> SELECT 1<=>0, '2'<=>2, 2<=>2, '0.02'<=>0, 'b'<=>'b', (1+3)<=>(2+2), NULL<=>NULL;
+-------+---------+-------+------------+-----------+---------------+-------------+
| 1<=>0 | '2'<=>2 | 2<=>2 | '0.02'<=>0 | 'b'<=>'b' | (1+3)<=>(2+2) | NULL<=>NULL |
+-------+---------+-------+------------+-----------+---------------+-------------+
|     0 |       1 |     1 |          0 |         1 |             1 |           1 |
+-------+---------+-------+------------+-----------+---------------+-------------+
```

可以看到，'<=>'在执行比较操作时和'='的作用是相似的，唯一的区别是'<=>'可以对NULL进行判断，两者同时都为NULL时返回值为1；

<br>

**3. 不等于运算符(<>或者!=)**

'<>'或者'!='用于判断数字，字符串，表达式不相等的判断。若不相等，返回值为1；否则返回值为0。这两个运算符不能用于判断空值NULL。

**示例：** 使用'<>'和'!='进行不相等的判断

```
mysql> SELECT 'good'<>'good', 1<>2, 4!=4, 5.5!=5, (1+3)!=(2+2), NULL<>NULL;
+----------------+------+------+--------+--------------+------------+
| 'good'<>'good' | 1<>2 | 4!=4 | 5.5!=5 | (1+3)!=(2+2) | NULL<>NULL |
+----------------+------+------+--------+--------------+------------+
|              0 |    1 |    0 |      1 |            0 |       NULL |
+----------------+------+------+--------+--------------+------------+
```

<br>

**4. 小于或等于运算符(<=)**

'<='用来判断左边的操作是否小于或者等于右边的操作数。若小于或等于，返回值为1，否则返回值为0。'<='不能用于判断空值NULL。

**示例：** 使用'<='进行比较判断

```
mysql> SELECT 'good'<='god',1<=2,4<=4,5.5<=5,(1+3)<=(2+1),NULL<=NULL;
+---------------+------+------+--------+--------------+------------+
| 'good'<='god' | 1<=2 | 4<=4 | 5.5<=5 | (1+3)<=(2+1) | NULL<=NULL |
+---------------+------+------+--------+--------------+------------+
|             0 |    1 |    1 |      0 |            0 |       NULL |
+---------------+------+------+--------+--------------+------------+
```

<br>

**5. 小于运算符(<)**

'<'运算符用来判断左边的操作数是否小于右边的操作数，如果小于，返回值为1；否则返回值为0。'<'不能用于判断空值NULL。

**示例：** 使用'<'进行比较判断

```
mysql> SELECT 'good'<'god',1<2,4<4,5.5<5,(1+3)<(2+1),NULL<NULL;
+--------------+-----+-----+-------+-------------+-----------+
| 'good'<'god' | 1<2 | 4<4 | 5.5<5 | (1+3)<(2+1) | NULL<NULL |
+--------------+-----+-----+-------+-------------+-----------+
|            0 |   1 |   0 |     0 |           0 |      NULL |
+--------------+-----+-----+-------+-------------+-----------+
```

<br>

**6. 大于或等于运算符(>=)**

'>='运算符用来判断左边的操作数是否大于或者等于右边的操作数，如果大于或者等于，返回值为1；否则返回值为0。'>='不能用于判断空值NULL。

<br>

**7. 大于运算符(>)**

'>'运算符用来判断左边的操作数是否大于后边的操作数，如果大于，返回值为1；否则返回空值为0.'>'不能用于判断空值NULL。

<br>

**8. IS NULL(ISNULL), IS NOT NULL 运算符**

IS NULL和ISNULL检验一个值是否为NULL，若为NULL，返回值为1；否则返回值为0。

IS NOT NULL检验一个值是否为非NULL，若是非NULL，返回值为1；否则返回值为0。

**示例：** 使用IS NULL，ISNULL和IS NOT NULL判断NULL值和非NULL值

```
mysql> SELECT NULL IS NULL, ISNULL(NULL),ISNULL(10), 10 IS NOT NULL;
+--------------+--------------+------------+----------------+
| NULL IS NULL | ISNULL(NULL) | ISNULL(10) | 10 IS NOT NULL |
+--------------+--------------+------------+----------------+
|            1 |            1 |          0 |              1 |
+--------------+--------------+------------+----------------+
```

<br>

**9. BETWEEN AND 运算符**

语法格式为:`expr BETWEEN min AND max`

假如expr大于或等于min且小于或等于max，则BETWEEN的返回值为1，否则返回值为0。

**示例：** 使用BETWEEN AND进行值区间判断

```
mysql> SELECT 4 BETWEEN 2 AND 5, 4 BETWEEN 4 AND 6, 12 BETWEEN 9 AND 10;
+-------------------+-------------------+---------------------+
| 4 BETWEEN 2 AND 5 | 4 BETWEEN 4 AND 6 | 12 BETWEEN 9 AND 10 |
+-------------------+-------------------+---------------------+
|                 1 |                 1 |                   0 |
+-------------------+-------------------+---------------------+

mysql> SELECT 'x' BETWEEN 'f' AND 'g', 'b' BETWEEN 'a' AND 'c';
+-------------------------+-------------------------+
| 'x' BETWEEN 'f' AND 'g' | 'b' BETWEEN 'a' AND 'c' |
+-------------------------+-------------------------+
|                       0 |                       1 |
+-------------------------+-------------------------+
```

<br>

**10. LEAST 运算符**

语法格式为：`LEAST(值1,值2,...,值n)`

其中值n表示参数列表中有n个值。有两个或多个参数的情况下，返回最小值。假如任意一个自变量为NULL，则LEAST()的返回值为NULL。

**示例：** 使用LEAST运算符进行大小判断

```
mysql> SELECT LEAST(2,0), LEAST(20.0,3.0,100.5), LEAST('a','c','b'), LEAST(10, NULL);
+------------+-----------------------+--------------------+-----------------+
| LEAST(2,0) | LEAST(20.0,3.0,100.5) | LEAST('a','c','b') | LEAST(10, NULL) |
+------------+-----------------------+--------------------+-----------------+
|          0 |                   3.0 | a                  |            NULL |
+------------+-----------------------+--------------------+-----------------+
```

由结果可以看出，当参数中是整数或者浮点数时，LEAST将返回其中最小的值；当参数为字符串时，将返回字母表中顺序最靠前的字符；当比较列表中有NULL时，***不能判断大小***，返回NULL值。

<br>

**11. GREATEST(value1,value2,...)**

语法格式为：`GREATEST(值1,值2,...,值n)`

其中n表示参数列表中有n个值。当有两个或多个参数时，返回值为最大值，假如任意一个自变量为NULL，则GREATEST()的返回值为NULL。

**示例：** 使用GREASTEST运算符进行大小判断

```
mysql> SELECT GREATEST(2,0), GREATEST(20.0,3.0,100.5), GREATEST('a','b','c'), GREATEST(10,NULL);
+---------------+--------------------------+-----------------------+-------------------+
| GREATEST(2,0) | GREATEST(20.0,3.0,100.5) | GREATEST('a','b','c') | GREATEST(10,NULL) |
+---------------+--------------------------+-----------------------+-------------------+
|             2 |                    100.5 | c                     |              NULL |
+---------------+--------------------------+-----------------------+-------------------+
```

可以看到，当参数时整数或者浮点数时，GERATEST将返回其中最大的值；当参数为字符串时，返回字母表中顺序靠后的字符；当比较值列表中有NULL时，不能判断大小，返回NULL。

<br>

**12. IN，NOT IN 运算符**

IN运算符用来判断操作数是否为IN列表中的其中一个值，如果是，返回值为1；否则返回值为0。

NOT IN运算符用来判断表达式是否为IN列表中的其中一个值，如果不是，返回值为1；否则返回值为0。

**示例：** 使用IN，NOT IN运算符进行判断

```
mysql> SELECT 2 IN (1,3,5,'thks'), 'thks' IN (1,3,5,'thks');
+---------------------+--------------------------+
| 2 IN (1,3,5,'thks') | 'thks' IN (1,3,5,'thks') |
+---------------------+--------------------------+
|                   0 |                        1 |
+---------------------+--------------------------+

mysql> SELECT 2 NOT IN (1,3,5,'thks'), 'thks' NOT IN (1,3,5,'thks');
+-------------------------+------------------------------+
| 2 NOT IN (1,3,5,'thks') | 'thks' NOT IN (1,3,5,'thks') |
+-------------------------+------------------------------+
|                       1 |                            0 |
+-------------------------+------------------------------+
```

在左侧表达式为NULL的情况下，或是表达中找不到匹配项并且表中一个表达式为NULL的情况下，IN的返回值均为NULL。

```
mysql> SELECT NULL IN (1,3,5,'thks'), 10 IN (1,3,NULL,'thks');
+------------------------+-------------------------+
| NULL IN (1,3,5,'thks') | 10 IN (1,3,NULL,'thks') |
+------------------------+-------------------------+
|                   NULL |                    NULL |
+------------------------+-------------------------+
```

<br>

**13. LIKE**

LIKE运算符用来匹配字符串，语法格式为：`expr LIKE 匹配条件`

若expr满足匹配条件，则返回值为1(TRUE)；若不匹配，则返回值为0(FALSE)。若expr或匹配条件中任何一个NULL，则结果为NULL。

LIKE运算符在进行匹配时，可以使用下面两种通配符：
1. '%'，匹配任何数目的字符，甚至包括零字符；
2. '_'，只能匹配一个字符；

**示例：** 使用运算符LIKE进行字符串匹配运算

```
mysql> SELECT 'stud' LIKE 'stud', 'stud' LIKE 'stud_', 'stud' LIKE '%d', 'stud' LIKE 't___', 's' LIKE NULL;
+--------------------+----------------------+------------------+--------------------+---------------+
| 'stud' LIKE 'stud' | 'stud' LIKE 'stud_'  | 'stud' LIKE '%d' | 'stud' LIKE 't___' | 's' LIKE NULL |
+--------------------+----------------------+------------------+--------------------+---------------+
|                  1 |                    1 |                1 |                  0 |          NULL |
+--------------------+----------------------+------------------+--------------------+---------------+
```

'stud'表示世界匹配'stud'字符串，满足匹配条件，返回1；

'stu_'表示匹配以stu开头的长度为4的字符串，'stud'正好时4个字符串，满足匹配条件，返回1；

'%d'表示匹配以字母'd'结尾的字符串，'stud'满足匹配条件，返回1；

't___'表示匹配以't'开头的长度为4个字符的字符串，'stud'不满足匹配条件，返回0；

当字符's'与NULL匹配时，结果为NULL；

<br>

**14. REGEXP**

REGEXP运算符用来匹配字符串，语法格式为：`expr REGEXP`匹配条件，若expr满足匹配条件，返回1；若不满足，返回0；若expr或匹配条件任意一个为NULL，则结果为NULL。

REGEXP运算符在进行匹配时，通常有下面的几种通配符：
1. '^'匹配以该字符后面的字符开头的字符串；
2. '$'匹配以该字符后面的字符结尾的字符串；
3. '.'匹配任何一个单字符；
4. '[...]'匹配在方括号内的任何字符；
5. '*'匹配零个或多个在它前面的字符；

**示例：** 使用REGEXP进行字符串匹配运算

```
mysql> SELECT 'ssky' REGEXP '^s', 'ssky' REGEXP 'y$', 'ssky' REGEXP '.sky', 'ssky' REGEXP '[ab]';
+--------------------+--------------------+----------------------+----------------------+
| 'ssky' REGEXP '^s' | 'ssky' REGEXP 'y$' | 'ssky' REGEXP '.sky' | 'ssky' REGEXP '[ab]' |
+--------------------+--------------------+----------------------+----------------------+
|                  1 |                  1 |                    1 |                    0 |
+--------------------+--------------------+----------------------+----------------------+
```



